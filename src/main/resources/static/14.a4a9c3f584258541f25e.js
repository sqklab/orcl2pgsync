(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+QRC":function(e,t,n){"use strict";var i=n("E9nw"),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,s,c,r,l,b=!1;t||(t={}),n=t.debug||!1;try{if(s=i(),c=document.createRange(),r=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(i){i.stopPropagation(),t.format&&(i.preventDefault(),void 0===i.clipboardData?(n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData(),window.clipboardData.setData(o[t.format]||o.default,e)):(i.clipboardData.clearData(),i.clipboardData.setData(t.format,e))),t.onCopy&&(i.preventDefault(),t.onCopy(i.clipboardData))}),document.body.appendChild(l),c.selectNodeContents(l),r.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");b=!0}catch(h){n&&console.error("unable to copy using execCommand: ",h),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),b=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{r&&("function"==typeof r.removeRange?r.removeRange(c):r.removeAllRanges()),l&&document.body.removeChild(l),s()}return b}},"5A5r":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("fXoL"),o=n("izjy"),a=n("ofXK"),s=n("3Pt+");function c(e,t){if(1&e&&(i.Ub(0,"option",7),i.Ic(1),i.Tb()),2&e){const e=t.$implicit;i.nc("value",e),i.Bb(1),i.Jc(e)}}function r(e,t){if(1&e){const e=i.Vb();i.Ub(0,"div",3),i.Ub(1,"label",4),i.Ic(2,"Page size"),i.Tb(),i.Ub(3,"select",5),i.ec("ngModelChange",function(t){return i.zc(e),i.gc(2).pageSize=t})("ngModelChange",function(t){return i.zc(e),i.gc(2).changePageSize(t)}),i.Gc(4,c,2,2,"option",6),i.Tb(),i.Tb()}if(2&e){const e=i.gc(2);i.Bb(3),i.nc("ngModel",e.pageSize),i.Bb(1),i.nc("ngForOf",e.optionMinutes)}}function l(e,t){if(1&e&&(i.Sb(0),i.Gc(1,r,5,2,"div",2),i.Rb()),2&e){const e=i.gc();i.Bb(1),i.nc("ngIf",e.totalPage>0)}}function b(e,t){if(1&e){const e=i.Vb();i.Ub(0,"a",16),i.ec("click",function(){i.zc(e);const t=i.gc().$implicit;return i.gc(2).handleChangePage(t.page)}),i.Ic(1),i.Tb()}if(2&e){const e=i.gc().$implicit;i.Bb(1),i.Jc(e.page)}}function h(e,t){if(1&e&&(i.Ub(0,"span",17),i.Ic(1),i.Tb()),2&e){const e=i.gc().$implicit;i.Bb(1),i.Jc(e.page)}}const d=function(e){return{active:e}};function u(e,t){if(1&e&&(i.Ub(0,"li",9),i.Gc(1,b,2,1,"a",14),i.Gc(2,h,2,1,"span",15),i.Tb()),2&e){const e=t.$implicit,n=i.gc(2);i.nc("ngClass",i.rc(3,d,n.currentPage===e.page)),i.Bb(1),i.nc("ngIf",e.isLink),i.Bb(1),i.nc("ngIf",!e.isLink)}}const g=function(e){return{disabled:e}};function p(e,t){if(1&e){const e=i.Vb();i.Ub(0,"nav"),i.Ub(1,"ul",8),i.Ub(2,"li",9),i.Ub(3,"a",10),i.ec("click",function(){i.zc(e);const t=i.gc();return t.handleChangePage(t.currentPage>1?t.currentPage-1:1)}),i.Ub(4,"span",11),i.Ic(5,"\xab"),i.Tb(),i.Tb(),i.Tb(),i.Gc(6,u,3,5,"li",12),i.Ub(7,"li",9),i.Ub(8,"a",13),i.ec("click",function(){i.zc(e);const t=i.gc();return t.handleChangePage(t.currentPage<t.totalPage?t.currentPage+1:t.totalPage)}),i.Ub(9,"span",11),i.Ic(10,"\xbb"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()}if(2&e){const e=i.gc();i.Bb(2),i.nc("ngClass",i.rc(3,g,1===e.currentPage)),i.Bb(4),i.nc("ngForOf",e.paginates),i.Bb(1),i.nc("ngClass",i.rc(5,g,e.currentPage===e.totalPage))}}let m=(()=>{class e{constructor(){this.hidePageSize=!1,this.pageSize=20,this.onChangePage=new i.n,this.onChangePageSize=new i.n,this.currentPage=1,this.pages=[],this.optionMinutes=[20,50,100,200]}ngOnChanges(){this.pages=Object(o.b)(this.totalPage)}get paginates(){const e=[];e.push({page:1,isLink:!0}),this.currentPage>3&&this.totalPage>5&&e.push({page:"...",isLink:!1});let t=0;for(let n=this.totalPage-this.currentPage>2?this.currentPage-1:this.totalPage-3;n<this.totalPage;n++)n>1&&Math.abs(n-this.currentPage)<=3&&t<3&&(t++,e.push({page:n,isLink:!0}));return this.totalPage-this.currentPage>=3&&e.push({page:"...",isLink:!1}),e.push({page:this.totalPage,isLink:!0}),e}handleChangePage(e){this.currentPage=e,this.onChangePage.emit(e)}changePageSize(e){this.onChangePageSize.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Ib({type:e,selectors:[["app-pavigation"]],inputs:{hidePageSize:"hidePageSize",pageSize:"pageSize",totalPage:"totalPage",currentPage:"currentPage"},outputs:{onChangePage:"onChangePage",onChangePageSize:"onChangePageSize"},features:[i.zb],decls:4,vars:2,consts:[[1,"d-flex","justify-content-end","align-items-center","mt-3","mb-5"],[4,"ngIf"],["class","d-flex justify-content-end align-items-center",4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center"],[1,"form-label","pe-2"],["name","selectedMinute",1,"form-control",2,"width","50px",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"pagination","justify-content-end","mb-0","ms-3"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["class","page-link",3,"click",4,"ngIf"],["class","page-link text-dark",4,"ngIf"],[1,"page-link",3,"click"],[1,"page-link","text-dark"]],template:function(e,t){1&e&&(i.Ub(0,"div",0),i.Gc(1,l,2,1,"ng-container",1),i.Sb(2),i.Gc(3,p,11,7,"nav",1),i.Rb(),i.Tb()),2&e&&(i.Bb(1),i.nc("ngIf",!t.hidePageSize),i.Bb(2),i.nc("ngIf",t.totalPage>1))},directives:[a.m,s.s,s.k,s.n,a.l,s.o,s.u,a.k],styles:[""]}),e})()},"6QS7":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("ofXK"),o=n("3Pt+"),a=n("1kSV"),s=n("fXoL");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({imports:[[i.c,o.f,a.f]]}),e})()},"7mjy":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("fXoL"),o=n("XNiG"),a=n("VRyK"),s=n("Kj3r"),c=n("/uUt"),r=n("pLZG"),l=n("lJxs"),b=n("3Pt+"),h=n("1kSV"),d=n("ofXK");const u=["instance"],g=function(e){return{"is-invalid":e}};let p=(()=>{class e{constructor(){this.items=[],this.width=200,this.chooseItem="",this.invalidInput=!1,this.disabled=!1,this.selectedItem=new i.n,this.onBlueSelectedItem=new i.n,this.clearSelected=new i.n(!1),this.focus$=new o.a,this.click$=new o.a,this.search=e=>{const t=e.pipe(Object(s.a)(200),Object(c.a)()),n=this.click$.pipe(Object(r.a)(()=>!this.instance.isPopupOpen())),i=this.focus$;return Object(a.a)(t,i,n).pipe(Object(l.a)(e=>(""===e?this.items:this.items.filter(t=>t.toLowerCase().indexOf(e.toLowerCase())>-1)).slice(0,20)))}}ngOnInit(){}onSelectedItem(e){this.chooseItem=e.item,this.selectedItem.emit(this.chooseItem)}onBlurSelectedItem(e){this.selectedItem.emit(this.chooseItem),this.onBlueSelectedItem.emit(this.chooseItem)}clearSelection(){this.chooseItem="",this.selectedItem.emit(this.chooseItem),this.clearSelected.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Ib({type:e,selectors:[["app-auto-complete"]],viewQuery:function(e,t){if(1&e&&i.Mc(u,3),2&e){let e;i.vc(e=i.fc())&&(t.instance=e.first)}},inputs:{items:"items",width:"width",chooseItem:"chooseItem",invalidInput:"invalidInput",disabled:"disabled"},outputs:{selectedItem:"selectedItem",onBlueSelectedItem:"onBlueSelectedItem",clearSelected:"clearSelected"},decls:4,vars:6,consts:[[1,"group-search"],["id","typeahead-focus","type","text",1,"form-control","text-search",3,"disabled","ngModel","ngbTypeahead","ngClass","ngModelChange","selectItem","blur","focus","click"],["instance","ngbTypeahead"],[1,"bi","bi-x",3,"click"]],template:function(e,t){1&e&&(i.Ub(0,"div",0),i.Ub(1,"input",1,2),i.ec("ngModelChange",function(e){return t.chooseItem=e})("selectItem",function(e){return t.onSelectedItem(e)})("blur",function(e){return t.onBlurSelectedItem(e)})("focus",function(e){return t.focus$.next(e.target.value)})("click",function(e){return t.click$.next(e.target.value)}),i.Tb(),i.Ub(3,"i",3),i.ec("click",function(){return t.clearSelection()}),i.Tb(),i.Tb()),2&e&&(i.Bb(1),i.nc("disabled",t.disabled)("ngModel",t.chooseItem)("ngbTypeahead",t.search)("ngClass",i.rc(4,g,t.invalidInput)))},directives:[b.b,h.k,b.k,b.n,d.k],styles:[".group-search[_ngcontent-%COMP%]{position:relative}.group-search[_ngcontent-%COMP%]   .bi-x[_ngcontent-%COMP%]{position:absolute;right:5px;top:6px;cursor:pointer}.group-search[_ngcontent-%COMP%]   #typeahead-focus[_ngcontent-%COMP%]:hover   .bi-x[_ngcontent-%COMP%]{display:block}"]}),e})()},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},EAxe:function(e,t,n){"use strict";n.r(t),n.d(t,"OperationModule",function(){return ct});var i=n("ofXK"),o=n("3Pt+"),a=n("1kSV"),s=n("6QS7"),c=n("/zYI"),r=n("izjy"),l=n("tyNb"),b=n("XNiG"),h=n("PqYM"),d=n("1G5W"),u=n("3FKL"),g=n("CZ6/"),p=n("fXoL");function m(e,t){if(1&e&&(p.Ub(0,"span",15),p.Ic(1),p.Tb()),2&e){const e=p.gc();p.Bb(1),p.Jc(e.doc.operation)}}function f(e,t){if(1&e&&(p.Ub(0,"span",16),p.Ic(1),p.Tb()),2&e){const e=p.gc();p.Bb(1),p.Jc(e.doc.operation)}}function S(e,t){if(1&e&&(p.Ub(0,"span",17),p.Ic(1),p.Tb()),2&e){const e=p.gc();p.Bb(1),p.Jc(e.doc.operation)}}function v(e,t){if(1&e&&(p.Ub(0,"th",11),p.Ic(1),p.Tb()),2&e){const e=t.$implicit;p.Bb(1),p.Jc(e)}}function T(e,t){if(1&e&&(p.Ub(0,"td"),p.Ub(1,"span"),p.Ic(2),p.Tb(),p.Tb()),2&e){const e=t.$implicit;p.Bb(1),p.Gb("text-warning",e.notMatch),p.Bb(1),p.Jc(e.value)}}function y(e,t){if(1&e&&(p.Ub(0,"td"),p.Ub(1,"span"),p.Ic(2),p.Tb(),p.Tb()),2&e){const e=t.$implicit;p.Bb(1),p.Gb("text-warning",e.notMatch),p.Bb(1),p.Jc(e.value)}}let C=(()=>{class e{constructor(e){this.activeModal=e,this.rowOracles=[],this.rowPostgres=[]}ngOnInit(){this.computedCell()}computedCell(){if(this.headers.forEach(this.doc.source?e=>{this.rowOracles.push({value:this.doc.source[e]})}:e=>{this.rowOracles.push({value:"N/A"})}),this.headers.forEach(this.doc.target?e=>{this.rowPostgres.push({value:this.doc.target[e.toLocaleLowerCase()]})}:e=>{this.rowPostgres.push({value:"N/A"})}),"UPDATE"===this.doc.operation)for(let e=0;e<this.rowOracles.length;e++)this.rowOracles[e].value!==this.rowPostgres[e].value&&(this.rowOracles[e].notMatch=!0,this.rowPostgres[e].notMatch=!0)}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(a.a))},e.\u0275cmp=p.Ib({type:e,selectors:[["app-show-detail-record"]],inputs:{doc:"doc",headers:"headers"},decls:27,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"correction-type"],["class","status bg-danger text-white",4,"ngIf"],["class","status bg-success text-white",4,"ngIf"],["class","status bg-warning text-white",4,"ngIf"],[1,"show-content"],[1,"table","table-hover","table-bordered","mb-5"],["scope","col",1,"text-center"],["class","text-center","scope","col",4,"ngFor","ngForOf"],[2,"font-weight","bold"],[4,"ngFor","ngForOf"],[1,"status","bg-danger","text-white"],[1,"status","bg-success","text-white"],[1,"status","bg-warning","text-white"]],template:function(e,t){1&e&&(p.Ub(0,"div",0),p.Ub(1,"h4",1),p.Ic(2,"Comparison Info"),p.Tb(),p.Ub(3,"button",2),p.ec("click",function(){return t.activeModal.dismiss("cancel")}),p.Ub(4,"span",3),p.Ic(5,"\xd7"),p.Tb(),p.Tb(),p.Tb(),p.Ub(6,"div",4),p.Ub(7,"div",5),p.Ub(8,"span"),p.Ic(9,"Correction Type"),p.Tb(),p.Gc(10,m,2,1,"span",6),p.Gc(11,f,2,1,"span",7),p.Gc(12,S,2,1,"span",8),p.Tb(),p.Ub(13,"div",9),p.Ub(14,"table",10),p.Ub(15,"thead"),p.Pb(16,"th",11),p.Gc(17,v,2,1,"th",12),p.Tb(),p.Ub(18,"tbody"),p.Ub(19,"tr"),p.Ub(20,"td",13),p.Ic(21,"Oracle"),p.Tb(),p.Gc(22,T,3,3,"td",14),p.Tb(),p.Ub(23,"tr"),p.Ub(24,"td",13),p.Ic(25,"Postgres"),p.Tb(),p.Gc(26,y,3,3,"td",14),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&e&&(p.Bb(10),p.nc("ngIf","DELETE"===t.doc.operation),p.Bb(1),p.nc("ngIf","INSERT"===t.doc.operation),p.Bb(1),p.nc("ngIf","UPDATE"===t.doc.operation),p.Bb(5),p.nc("ngForOf",t.headers),p.Bb(5),p.nc("ngForOf",t.rowOracles),p.Bb(4),p.nc("ngForOf",t.rowPostgres))},directives:[i.m,i.l],styles:[".show-content[_ngcontent-%COMP%]{overflow:auto;margin:1em}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:30px;border-right:1px solid var(--cui-table-border-color);padding:.9em}.correction-type[_ngcontent-%COMP%]{padding:1em}.correction-type[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}"]}),e})();var I=n("qlbE"),U=n("HWzE"),D=n("tk/3");let O=(()=>{class e extends U.a{constructor(e,t){super(t),this.storage=e}loadSearchingData(e,t,n,i,o,a,s,c,r,l,b){return this.httpClient.get(`/operation/loadSearching?table=${o}&pageNo=${c}&pageSize=${r}&sourceDatabase=${e}&sourceSchema=${t}&targetDatabase=${n}&targetSchema=${i}&whereStm=${s}&session=${a}&primaryKeys=${l}&uniqueKeys=${b}`)}getViewInfoForSearching(){return this.httpClient.get("/comparison/viewInfoForSearching")}getOperationSummary(e,t,n){return this.httpClient.get(`/operation/getOperationSummary?table=${e}&sessionId=${t}&whereCondition=${n}`)}checkOperation(e,t,n){return this.httpClient.get(`/operation/checkOperation?table=${e}&sessionId=${t}&whereCondition=${n}`)}getColumnIdValue(e){return this.httpClient.post("/operation/getColumnIdValue",e)}getSuggestColumnIdValue(e){return this.httpClient.post("/operation/getFirstCharacter",e)}search(e){return this.httpClient.post("/operation/compare",e)}correction(e,t,n,i){return this.httpClient.post(`/operation/correct?targetDatabase=${t}&targetSchema=${n}&targetTable=${i}`,e)}correctionBatch(e,t,n,i,o,a,s,c){return this.httpClient.post(`/operation/correctBatch?targetDatabase=${i}&targetSchema=${o}&targetTable=${a}&sourceDatabase=${t}&sourceSchema=${n}&session=${s}&whereStm=${c}`,e)}cancelSearching(e,t,n){return this.httpClient.post(`/operation/cancelSearching?session=${t}&whereStm=${n}&table=${e}`,{})}deleteProcess(e){return this.httpClient.post("/operation/deleteProcess",e)}deleteOperationTable(e){return this.httpClient.post("/operation/deleteDiff",e)}}return e.\u0275fac=function(t){return new(t||e)(p.bc(u.a),p.bc(D.b))},e.\u0275prov=p.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var P=n("YRh+"),_=n("7mjy"),w=n("xgIS"),M=n("Kj3r"),x=n("/uUt");const B=["SearchInput"];function k(e,t){1&e&&(p.Ub(0,"small",8),p.Ic(1,"searching..."),p.Tb())}function $(e,t){if(1&e&&(p.Ub(0,"div",9),p.Ic(1),p.Tb()),2&e){const e=p.gc();p.Bb(1),p.Jc(e.errorMsg)}}function F(e,t){1&e&&(p.Ub(0,"div",13),p.Ic(1,"Choose the first character to find data"),p.Tb())}function L(e,t){if(1&e){const e=p.Vb();p.Ub(0,"button",14),p.ec("click",function(){p.zc(e);const n=t.$implicit;return p.gc(2).onSelectedValue(n)}),p.Ic(1),p.Tb()}if(2&e){const e=t.$implicit;p.Bb(1),p.Jc(e)}}function R(e,t){if(1&e&&(p.Ub(0,"div",10),p.Gc(1,F,2,0,"div",11),p.Gc(2,L,2,1,"button",12),p.Tb()),2&e){const e=p.gc();p.Gb("show",e.toggleMenu&&e.suggestValues.length>0),p.Bb(1),p.nc("ngIf",e.isFetchHint),p.Bb(1),p.nc("ngForOf",e.suggestValues)}}let E=(()=>{class e{constructor(e,t){this._service=e,this.authService=t,this.searching=!1,this.searchFailed=!1,this.showDropMenu=!0,this.errorMsg=null,this.suggestValues=[],this.toggleMenu=!1,this.isFetchHint=!1,this.disabled=!1,this.width=400,this.outSelectedItem=new p.n(!1),this.oracleValueIdNotFound=new p.n(!1)}ngOnInit(){}onSelectedItem(e){this.operationInfo.columnIdValue=e.item}onChangeValue(e){this.operationInfo.columnIdValue=e,this.outSelectedItem.emit(!0)}onBlurValue(e){}handleKeyDown(e){const t=document.getElementById("dropdown-menu-id"),n=document.getElementById("typeahead-column-id");if(!t)return;const i=t.contains(e.target),o=n.contains(e.target);i||o||(this.toggleMenu=!1)}registerSearchingEvent(){Object(w.a)(this.searchInput.nativeElement,"keyup").pipe(Object(M.a)(500),Object(x.a)()).subscribe(e=>{this.fetch(!1)})}onShowSuggestion(e){this.disabled||(this.toggleMenu=!0,this.operationInfo.columnIdValue&&this.fetch(!1))}onSelectedValue(e){this.operationInfo.columnIdValue=e,this.toggleMenu=!1,this.outSelectedItem.emit(!0)}fetch(e){""!==this.operationInfo.sourceDatabase&&""!==this.operationInfo.sourceSchema&&""!==this.operationInfo.table&&(this.errorMsg=null,this.searching=!0,this.searchFailed=!1,this.authService.onLoading$.next(!0),this._service.getColumnIdValue(this.operationInfo).subscribe(t=>{this.isFetchHint=""===this.operationInfo.columnIdValue,this.searching=!1,this.authService.onLoading$.next(!1),t&&200===t.status?(this.suggestValues=t.body,this.toggleMenu=e?this.suggestValues.length>1:this.suggestValues.length>0,0===this.suggestValues.length||-1==this.suggestValues.indexOf(this.operationInfo.columnIdValue)?this.oracleValueIdNotFound.emit(!0):this.oracleValueIdNotFound.emit(!1)):(this.searchFailed=!0,this.errorMsg=t.message)},e=>{this.searching=!1,this.authService.onLoading$.next(!1),this.searchFailed=!0},()=>{this.searching=!1,this.authService.onLoading$.next(!1)}))}getFirstCharacter(){""!==this.operationInfo.sourceDatabase&&""!==this.operationInfo.sourceSchema&&""!==this.operationInfo.table&&(this.isFetchHint=!1,this.errorMsg=null,this.searching=!0,this.searchFailed=!1,this.authService.onLoading$.next(!0),this._service.getColumnIdValue(this.operationInfo).subscribe(e=>{this.searching=!1,this.authService.onLoading$.next(!1),e&&200===e.status?this.suggestValues=e.body:(this.searchFailed=!0,this.errorMsg=e.message),this.suggestValues.length>0&&this.suggestValues[0]&&(this.isFetchHint=1==this.suggestValues[0].length)},e=>{this.searching=!1,this.authService.onLoading$.next(!1),this.searchFailed=!0},()=>{this.searching=!1,this.authService.onLoading$.next(!1)}))}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(O),p.Ob(I.a))},e.\u0275cmp=p.Ib({type:e,selectors:[["app-column-id-auto-complete"]],viewQuery:function(e,t){if(1&e&&p.Mc(B,3),2&e){let e;p.vc(e=p.fc())&&(t.searchInput=e.first)}},hostBindings:function(e,t){1&e&&p.ec("click",function(e){return t.handleKeyDown(e)},!1,p.xc)},inputs:{disabled:"disabled",operationInfo:"operationInfo",width:"width"},outputs:{outSelectedItem:"outSelectedItem",oracleValueIdNotFound:"oracleValueIdNotFound"},decls:8,vars:7,consts:[[1,"colum-id","row"],[1,"col"],["id","typeahead-column-id","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange","blur","keyup","keydown.enter","selectItem"],["SearchInput",""],[1,"bi","bi-search",3,"click"],["class","form-text text-muted",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["class","dropdown-menu","id","dropdown-menu-id",3,"show",4,"ngIf"],[1,"form-text","text-muted"],[1,"invalid-feedback"],["id","dropdown-menu-id",1,"dropdown-menu"],["class","menu-hint form-text text-muted",4,"ngIf"],["type","button","class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"menu-hint","form-text","text-muted"],["type","button",1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(p.Ub(0,"div",0),p.Ub(1,"div",1),p.Ub(2,"input",2,3),p.ec("ngModelChange",function(e){return t.operationInfo.columnIdValue=e})("blur",function(e){return t.onChangeValue(e.target.value)})("keyup",function(e){return t.onChangeValue(e.target.value)})("keydown.enter",function(e){return t.onShowSuggestion(e)})("selectItem",function(e){return t.onSelectedItem(e)}),p.Tb(),p.Ub(4,"i",4),p.ec("click",function(e){return t.onShowSuggestion(e)}),p.Tb(),p.Gc(5,k,2,0,"small",5),p.Gc(6,$,2,1,"div",6),p.Gc(7,R,3,4,"div",7),p.Tb(),p.Tb()),2&e&&(p.Bb(2),p.Gb("is-invalid",t.searchFailed),p.nc("ngModel",t.operationInfo.columnIdValue)("disabled",t.disabled),p.Bb(3),p.nc("ngIf",t.searching),p.Bb(1),p.nc("ngIf",t.errorMsg),p.Bb(1),p.nc("ngIf",t.toggleMenu&&t.suggestValues.length>0))},directives:[o.b,o.k,o.n,i.m,i.l],styles:[".colum-id[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{position:relative}.colum-id[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .bi-search[_ngcontent-%COMP%]{position:absolute;right:14px;top:5px;cursor:pointer}#typeahead-column-id[_ngcontent-%COMP%]{position:relative}.menu-hint[_ngcontent-%COMP%]{border-bottom:1px solid #ced4da;margin-left:3px}.invalid-feedback[_ngcontent-%COMP%]{max-width:350px}"]}),e})();var A=n("+QRC"),N=n("JIr8"),j=n("z6cu"),z=n("gOjB");let V=(()=>{class e extends U.a{constructor(e,t){super(t),this.storage=e}getCurrentSCN(e){return this.httpClient.get(`/redolog/getCurrentSCN?db=${e}`)}getTimestampByScn(e,t){return this.httpClient.get(`/redolog/getTimestampByScn?db=${e}&scn=${t}`)}getScnByTimestamp(e,t){return this.httpClient.get(`/redolog/getScnByTimestamp?db=${e}&dateTime=${t}`)}getTablesByDbAndSchema(e,t){return this.httpClient.get(`/redolog/getTablesByDbAndSchema?db=${e}&schema=${t}`)}searchLogMnrContents(e,t,n,i,o,a,s,c,r){return this.httpClient.get(`/redolog/searchLogMnrContents?totalPage=${s}&currentPage=${c}&pageSize=${r}&db=${e}&schema=${t}&startScn=${n}&endScn=${i}&operationTypes=${o}&tables=${a}`)}}return e.\u0275fac=function(t){return new(t||e)(p.bc(u.a),p.bc(D.b))},e.\u0275prov=p.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var G=n("5A5r");const H=["modalDetailReUndoLog"];function q(e,t){if(1&e&&(p.Ub(0,"div",44),p.Ub(1,"div",45),p.Ub(2,"div",3),p.Ub(3,"label"),p.Ic(4,"Current SCN:"),p.Tb(),p.Ub(5,"strong",46),p.Ic(6),p.Tb(),p.Tb(),p.Tb(),p.Ub(7,"div",2),p.Ub(8,"div",3),p.Ub(9,"label"),p.Ic(10,"Find Time:"),p.Tb(),p.Ub(11,"span",46),p.Ic(12),p.hc(13,"date"),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&e){const e=p.gc();p.Bb(6),p.Jc(e.currentScnInfo.scn),p.Bb(6),p.Jc(p.jc(13,2,e.currentScnInfo.findTime,"yyyy-MM-dd HH:mm:ss"))}}function K(e,t){if(1&e&&(p.Ub(0,"div",44),p.Ub(1,"div",2),p.Ub(2,"div",3),p.Ub(3,"label"),p.Ic(4,"SCN:"),p.Tb(),p.Ub(5,"strong",46),p.Ic(6),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&e){const e=p.gc();p.Bb(6),p.Jc(e.scnToTime_Time)}}function J(e,t){if(1&e&&(p.Ub(0,"div",44),p.Ub(1,"div",2),p.Ub(2,"div",3),p.Ub(3,"label"),p.Ic(4,"Time:"),p.Tb(),p.Ub(5,"span",46),p.Ic(6),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&e){const e=p.gc();p.Bb(6),p.Jc(e.timeToSCN_SCN)}}function Q(e,t){if(1&e&&(p.Ub(0,"div",49),p.Ub(1,"input",50),p.ec("ngModelChange",function(e){return t.$implicit.checked=e}),p.Tb(),p.Ub(2,"label",51),p.Ic(3),p.Tb(),p.Tb()),2&e){const e=t.$implicit;p.Bb(1),p.oc("id",e.name),p.nc("ngModel",e.checked),p.Bb(1),p.oc("for",e.name),p.Bb(1),p.Jc(e.name)}}function W(e,t){if(1&e&&(p.Ub(0,"div",47),p.Gc(1,Q,4,4,"div",48),p.Tb()),2&e){const e=p.gc();p.Bb(1),p.nc("ngForOf",e.allTables)}}function X(e,t){if(1&e){const e=p.Vb();p.Ub(0,"tr",61),p.ec("click",function(){p.zc(e);const n=t.$implicit;return p.gc(2).onShowReUnDoLog(n)}),p.Ub(1,"td",62),p.Ic(2),p.Tb(),p.Ub(3,"td",62),p.Ic(4),p.Tb(),p.Ub(5,"td",62),p.Ic(6),p.Tb(),p.Ub(7,"td",62),p.Ic(8),p.Tb(),p.Ub(9,"td",62),p.Ic(10),p.Tb(),p.Ub(11,"td",62),p.Ic(12),p.Tb(),p.Ub(13,"td",62),p.Ic(14),p.Tb(),p.Ub(15,"td",62),p.Ic(16),p.Tb(),p.Tb()}if(2&e){const e=t.$implicit,n=t.index;p.Gb("selected-row",e.selected),p.Bb(2),p.Jc(n+1),p.Bb(2),p.Jc(e.scn),p.Bb(2),p.Jc(e.startScn),p.Bb(2),p.Jc(e.commitScn),p.Bb(2),p.Jc(e.timestamp),p.Bb(2),p.Jc(e.operation),p.Bb(2),p.Jc(e.segOwner),p.Bb(2),p.Jc(e.tableName)}}function Y(e,t){1&e&&(p.Ub(0,"div",63),p.Ic(1,"No data"),p.Tb())}function Z(e,t){if(1&e){const e=p.Vb();p.Ub(0,"div",3),p.Ub(1,"div",64),p.Ub(2,"div",65),p.ec("click",function(){p.zc(e);const t=p.gc(2);return t.copy(t.detailReUndoLog.sqlRedo)}),p.Ub(3,"div"),p.Ic(4,"REDO"),p.Tb(),p.Ub(5,"div",66),p.Ic(6),p.Tb(),p.Tb(),p.Ub(7,"div",67),p.ec("click",function(){p.zc(e);const t=p.gc(2);return t.copy(t.detailReUndoLog.sqlRedo)}),p.Ub(8,"div"),p.Ic(9,"UNDO"),p.Tb(),p.Ub(10,"div",66),p.Ic(11),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&e){const e=p.gc(2);p.Bb(6),p.Jc(e.detailReUndoLog.sqlRedo),p.Bb(5),p.Jc(e.detailReUndoLog.sqlUndo)}}function ee(e,t){if(1&e){const e=p.Vb();p.Ub(0,"div",52),p.Ub(1,"div",2),p.Ub(2,"div",3),p.Ub(3,"div",53),p.Ub(4,"div",54),p.Ub(5,"table",55),p.Ub(6,"thead"),p.Ub(7,"tr"),p.Ub(8,"th",56),p.Ic(9,"No"),p.Tb(),p.Ub(10,"th",56),p.Ic(11,"SCN"),p.Tb(),p.Ub(12,"th",56),p.Ic(13,"Start SCN"),p.Tb(),p.Ub(14,"th",56),p.Ic(15,"Commit SCN"),p.Tb(),p.Ub(16,"th",56),p.Ic(17,"Timestamp"),p.Tb(),p.Ub(18,"th",56),p.Ic(19,"Operation"),p.Tb(),p.Ub(20,"th",56),p.Ic(21,"Seg Owner"),p.Tb(),p.Ub(22,"th",56),p.Ic(23,"Table Name"),p.Tb(),p.Tb(),p.Tb(),p.Ub(24,"tbody"),p.Gc(25,X,17,10,"tr",57),p.Tb(),p.Tb(),p.Gc(26,Y,2,0,"div",58),p.Ub(27,"app-pavigation",59),p.ec("onChangePage",function(t){return p.zc(e),p.gc().handleChangePage(t)})("onChangePageSize",function(t){return p.zc(e),p.gc().handleChangePageSize(t)}),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Gc(28,Z,12,2,"div",60),p.Tb(),p.Tb()}if(2&e){const e=p.gc();p.Bb(25),p.nc("ngForOf",e.logContentsResult.logContents),p.Bb(1),p.nc("ngIf",0===e.logContentsResult.logContents.length),p.Bb(1),p.nc("currentPage",e.currentPage)("totalPage",e.totalPage),p.Bb(1),p.nc("ngIf",e.detailReUndoLog)}}function te(e,t){if(1&e){const e=p.Vb();p.Ub(0,"table",75),p.Ub(1,"tr"),p.Ub(2,"th"),p.Ic(3,"REDO"),p.Tb(),p.Ub(4,"td",76),p.ec("click",function(){p.zc(e);const t=p.gc(2);return t.copy(t.detalReUndoLog.sqlRedo)}),p.Ic(5),p.Tb(),p.Tb(),p.Ub(6,"tr"),p.Ub(7,"th"),p.Ic(8,"UNDO"),p.Tb(),p.Ub(9,"td",76),p.ec("click",function(){p.zc(e);const t=p.gc(2);return t.copy(t.detalReUndoLog.sqlUndo)}),p.Ic(10),p.Tb(),p.Tb(),p.Tb()}if(2&e){const e=p.gc(2);p.Bb(5),p.Jc(e.detalReUndoLog.sqlRedo),p.Bb(5),p.Jc(e.detalReUndoLog.sqlUndo)}}function ne(e,t){if(1&e){const e=p.Vb();p.Ub(0,"div",68),p.Ub(1,"h4",69),p.Ic(2,"REDO, UNDO Infomation"),p.Tb(),p.Ub(3,"button",70),p.ec("click",function(){return p.zc(e),p.gc().onCloseModal()}),p.Ub(4,"span",71),p.Ic(5,"\xd7"),p.Tb(),p.Tb(),p.Tb(),p.Ub(6,"div",72),p.Ub(7,"div",64),p.Gc(8,te,11,2,"table",73),p.Tb(),p.Tb(),p.Ub(9,"div",74),p.Ub(10,"button",6),p.ec("click",function(){return p.zc(e),p.gc().onCloseModal()}),p.Ic(11," Cancel "),p.Tb(),p.Tb()}if(2&e){const e=p.gc();p.Bb(8),p.nc("ngIf",e.detalReUndoLog)}}let ie=(()=>{class e{constructor(e,t,n,i,o){this.comparisonService=e,this.redoLogService=t,this.authService=n,this.modalService=i,this.formater=o,this.totalPage=0,this.currentPage=1,this.pageSize=20,this.sourceDBs=[],this.sourceDBsForLogMnrContents=[],this.sourceSchemas=[],this.selectedSourceDB="",this.selectedSourceSchema="",this.allTables=[],this.timeToSNC="",this.timeToSCN_SCN="",this.scnToTime="",this.scnToTime_Time="",this.logmrnContent={startScn:"",endScn:"",operationTypes:[],db:"",schema:"",tables:[]}}ngOnInit(){this.loadViewInfoForSearching()}loadViewInfoForSearching(){this.comparisonService.getViewInfoForSearching().subscribe(e=>{if(e){const t=new Set,n=new Set,i=new Set;e.forEach(e=>{t.add(null==e.syncRdId?e.sourceDatabase:e.rdSourceDatabase),n.add(null==e.syncRdId?e.sourceSchema:e.rdSourceSchema),i.add(null==e.syncRdId?e.targetDatabase:e.rdTargetDatabase)}),t.forEach(e=>this.sourceDBs.push(e)),this.sourceDBsForLogMnrContents=this.sourceDBs,n.forEach(e=>this.sourceSchemas.push(e))}})}getCurrentSCN(){""!==this.selectedSourceDB.trim()?(this.authService.onLoading$.next(!0),this.redoLogService.getCurrentSCN(this.selectedSourceDB).subscribe(e=>{this.authService.onLoading$.next(!1),e&&200===e.status?this.currentScnInfo=e.body:g.a.notifyMessage(e.message,"error")})):g.a.notifyMessage("Source DB is required!","error")}getTimestampByScn(){""!==this.selectedSourceDB.trim()?""!==this.scnToTime.trim()?(this.authService.onLoading$.next(!0),this.redoLogService.getTimestampByScn(this.selectedSourceDB,this.scnToTime).pipe(Object(N.a)(e=>(g.a.notifyMessage(e,"error"),this.authService.onLoading$.next(!1),Object(j.a)(e)))).subscribe(e=>{this.authService.onLoading$.next(!1),e&&200===e.status?this.timeToSCN_SCN=e.body:g.a.notifyMessage(e.message,"error")})):g.a.notifyMessage("SCN is required!","error"):g.a.notifyMessage("Source DB is required!","error")}loadResultByDate(e){this.timeToSNC=this.formater.format(e)}getScnByTimestamp(){if(""===this.selectedSourceDB.trim())return void g.a.notifyMessage("Source DB is required!","error");if(!this.timeToSNC)return void g.a.notifyMessage("Date is required!","error");if(console.log(this.timeToSNC),!this.timeHHMMSS)return void g.a.notifyMessage("HH:mm:ss is required!","error");const e=this.timeToSNC+"T"+this.autoFill2Character(this.timeHHMMSS.hour)+":"+this.autoFill2Character(this.timeHHMMSS.minute)+":"+this.autoFill2Character(this.timeHHMMSS.second);this.authService.onLoading$.next(!0),this.redoLogService.getScnByTimestamp(this.selectedSourceDB,e).pipe(Object(N.a)(e=>(g.a.notifyMessage(e,"error"),this.authService.onLoading$.next(!1),Object(j.a)(e)))).subscribe(e=>{this.authService.onLoading$.next(!1),e&&200===e.status?this.scnToTime_Time=e.body:g.a.notifyMessage(e.message,"error")})}autoFill2Character(e){return 1===e.toString().length?"0"+e:e}onChangeOperation(e){e.target.checked?this.logmrnContent.operationTypes.push(e.target.value):this.logmrnContent.operationTypes=this.logmrnContent.operationTypes.filter(t=>t!==e.target.value)}onGetTablesByDbAndSchema(){""!==this.logmrnContent.db.trim()&&""!==this.logmrnContent.schema&&(this.authService.onLoading$.next(!0),this.redoLogService.getTablesByDbAndSchema(this.logmrnContent.db,this.logmrnContent.schema).pipe(Object(N.a)(e=>(g.a.notifyMessage(e,"error"),Object(j.a)(e)))).subscribe(e=>{this.authService.onLoading$.next(!1),e&&200===e.status&&(this.allTables=e.body.map(e=>({name:e,checked:!1})))}))}onCheckAllTables(e){0!==this.allTables.length&&this.allTables.forEach(t=>t.checked=e.target.checked)}searchLogMnrContents(){""!==this.logmrnContent.db.toString().trim()?this.logmrnContent.startScn?this.logmrnContent.endScn?(this.allTables.length>0&&(this.logmrnContent.tables=this.allTables.filter(e=>e.checked).map(e=>e.name)),this.logContentsResult=null,this.detailReUndoLog=null,this.totalPage=0,this.authService.onLoading$.next(!0),this.redoLogService.searchLogMnrContents(this.logmrnContent.db,this.logmrnContent.schema,this.logmrnContent.startScn,this.logmrnContent.endScn,this.logmrnContent.operationTypes,this.logmrnContent.tables,this.totalPage,this.currentPage,this.pageSize).pipe(Object(N.a)(e=>(g.a.notifyMessage(e,"error"),Object(j.a)(e)))).subscribe(e=>{this.authService.onLoading$.next(!1),e&&200===e.status?(this.logContentsResult=e.body,this.logContentsResult.logContents.forEach(e=>e.selected=!1),this.totalPage<=0&&(this.totalPage=Math.ceil(this.logContentsResult.count/this.pageSize))):g.a.notifyMessage(e.message,"error")},e=>{this.authService.onLoading$.next(!1),g.a.notifyMessage("Error!","error")})):g.a.notifyMessage("End SCN is required!","error"):g.a.notifyMessage("Start SCN is required!","error"):g.a.notifyMessage("Source DB is required!","error")}onShowReUnDoLog(e){this.logContentsResult.logContents.forEach(e=>e.selected=!1),e.selected=!0,this.detailReUndoLog=e}onCloseModal(){this.modalService.dismissAll()}copy(e){A(e)}handleChangePageSize(e){this.pageSize=e,this.searchLogMnrContents()}handleChangePage(e){this.currentPage=e,this.searchLogMnrContents()}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(z.a),p.Ob(V),p.Ob(I.a),p.Ob(a.e),p.Ob(r.a))},e.\u0275cmp=p.Ib({type:e,selectors:[["app-redo-log"]],viewQuery:function(e,t){if(1&e&&p.Mc(H,3),2&e){let e;p.vc(e=p.fc())&&(t.modalDetailReUndoLog=e.first)}},decls:99,vars:20,consts:[[1,"card","card-body","border-top-0","border-bottom-0"],[1,"card","card-body"],[1,"row"],[1,"col"],[1,"search-source-db","mb-3","mt-2"],[3,"items","width","chooseItem","clearSelected","selectedItem"],["type","button",1,"btn","btn-outline-primary",3,"click"],["class","search-source-db-result",4,"ngIf"],[1,"form-inline"],[1,"form-group","mb-0"],[1,"input-group",2,"width","135px"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","aria-describedby","date-btn-addon",1,"form-control",3,"dateSelect"],["d1","ngbDatepicker"],["id","date-btn-addon","type","button",1,"btn","btn-outline-secondary","btn-addon",3,"click"],[1,"fa","fa-calendar"],[3,"ngModel","seconds","spinners","ngModelChange"],[1,"container"],["type","text",1,"form-control",2,"width","250px",3,"ngModel","ngModelChange"],[1,"card","card-body","border-top-0","pt-0"],[1,"scn","mb-2"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"scn"],[1,"col","operation-type"],[1,"checkboxs"],["type","checkbox","value","1","id","insert",3,"change"],["for","insert"],["type","checkbox","value","3","id","Update",3,"change"],["for","Update"],["type","checkbox","value","2","id","Delete",3,"change"],["for","Delete"],["type","checkbox","value","5","id","DDL",3,"change"],["for","DDL"],[1,"col","searchtable-eare"],[1,"search-source-db"],[2,"min-width","50px"],[3,"items","width","chooseItem","clearSelected","onBlueSelectedItem"],[1,"col","table-result"],[1,"check-all"],["type","checkbox","id","checkall",3,"change"],["for","checkall"],["class","selected-tables",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","search-btn",2,"float","right",3,"click"],["class","card card-body mt-3",4,"ngIf"],["modalDetailReUndoLog",""],[1,"search-source-db-result"],[1,"row","mb-2"],[1,"ml-4"],[1,"selected-tables"],["class","group-tables",4,"ngFor","ngForOf"],[1,"group-tables"],["type","checkbox",3,"id","ngModel","ngModelChange"],[3,"for"],[1,"card","card-body","mt-3"],[1,"content"],[1,"show-table"],[1,"table","table-hover","table-bordered","mt-4"],["scope","col",1,"text-center"],[3,"selected-row","click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[3,"currentPage","totalPage","onChangePage","onChangePageSize"],["class","col",4,"ngIf"],[3,"click"],[1,"text-center"],[1,"no-data"],[1,"info-text-body"],[1,"redo",3,"click"],[2,"padding","1em","border","1px solid","min-height","350px"],[1,"undo",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","table table-bordered",4,"ngIf"],[1,"modal-footer"],[1,"table","table-bordered"],[2,"padding-left","2em","cursor","pointer",3,"click"]],template:function(e,t){if(1&e){const e=p.Vb();p.Ub(0,"diV",0),p.Ub(1,"div",1),p.Ub(2,"div",2),p.Ub(3,"div",3),p.Ub(4,"strong"),p.Ic(5,"Current SCN"),p.Tb(),p.Ub(6,"div",4),p.Ub(7,"app-auto-complete",5),p.ec("clearSelected",function(){return t.selectedSourceDB=""})("selectedItem",function(e){return t.selectedSourceDB=e}),p.Tb(),p.Ub(8,"button",6),p.ec("click",function(){return t.getCurrentSCN()}),p.Ic(9,"Find"),p.Tb(),p.Tb(),p.Gc(10,q,14,5,"div",7),p.Tb(),p.Ub(11,"div",3),p.Ub(12,"strong"),p.Ic(13,"Time to SCN"),p.Tb(),p.Ub(14,"div",4),p.Ub(15,"span"),p.Ic(16,"Time"),p.Tb(),p.Ub(17,"form",8),p.Ub(18,"div",9),p.Ub(19,"div",10),p.Ub(20,"input",11,12),p.ec("dateSelect",function(e){return t.loadResultByDate(e)}),p.Tb(),p.Ub(22,"button",13),p.ec("click",function(){return p.zc(e),p.wc(21).toggle()}),p.Pb(23,"span",14),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(24,"ngb-timepicker",15),p.ec("ngModelChange",function(e){return t.timeHHMMSS=e}),p.Tb(),p.Ub(25,"button",6),p.ec("click",function(){return t.getScnByTimestamp()}),p.Ic(26,"Find"),p.Tb(),p.Tb(),p.Gc(27,K,7,1,"div",7),p.Tb(),p.Ub(28,"div",3),p.Ub(29,"div",16),p.Ub(30,"div",2),p.Pb(31,"div",3),p.Ub(32,"div",3),p.Ub(33,"strong"),p.Ic(34,"SCN to Time"),p.Tb(),p.Ub(35,"div",4),p.Ub(36,"span"),p.Ic(37,"SCN"),p.Tb(),p.Ub(38,"input",17),p.ec("ngModelChange",function(e){return t.scnToTime=e}),p.Tb(),p.Ub(39,"button",6),p.ec("click",function(){return t.getTimestampByScn()}),p.Ic(40,"Find"),p.Tb(),p.Tb(),p.Gc(41,J,7,1,"div",7),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(42,"div",18),p.Ub(43,"div",1),p.Ub(44,"div",2),p.Ub(45,"div",3),p.Ub(46,"div",19),p.Ub(47,"label"),p.Ic(48,"Start SCN"),p.Tb(),p.Ub(49,"input",20),p.ec("ngModelChange",function(e){return t.logmrnContent.startScn=e}),p.Tb(),p.Tb(),p.Ub(50,"div",21),p.Ub(51,"label"),p.Ic(52,"End SCN"),p.Tb(),p.Ub(53,"input",20),p.ec("ngModelChange",function(e){return t.logmrnContent.endScn=e}),p.Tb(),p.Tb(),p.Tb(),p.Ub(54,"div",22),p.Ub(55,"label"),p.Ic(56,"Operation Type"),p.Tb(),p.Ub(57,"div",23),p.Ub(58,"div"),p.Ub(59,"input",24),p.ec("change",function(e){return t.onChangeOperation(e)}),p.Tb(),p.Ub(60,"label",25),p.Ic(61,"Insert"),p.Tb(),p.Tb(),p.Ub(62,"div"),p.Ub(63,"input",26),p.ec("change",function(e){return t.onChangeOperation(e)}),p.Tb(),p.Ub(64,"label",27),p.Ic(65,"Update"),p.Tb(),p.Tb(),p.Ub(66,"div"),p.Ub(67,"input",28),p.ec("change",function(e){return t.onChangeOperation(e)}),p.Tb(),p.Ub(68,"label",29),p.Ic(69,"Delete"),p.Tb(),p.Tb(),p.Ub(70,"div"),p.Ub(71,"input",30),p.ec("change",function(e){return t.onChangeOperation(e)}),p.Tb(),p.Ub(72,"label",31),p.Ic(73,"DDL"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(74,"div",32),p.Ub(75,"div"),p.Ub(76,"div",33),p.Ub(77,"span",34),p.Ic(78,"DB"),p.Tb(),p.Ub(79,"app-auto-complete",35),p.ec("clearSelected",function(){return t.logmrnContent.db=""})("onBlueSelectedItem",function(e){return t.logmrnContent.db=e,t.onGetTablesByDbAndSchema()}),p.Tb(),p.Tb(),p.Ub(80,"div",4),p.Ub(81,"span"),p.Ic(82,"Schema"),p.Tb(),p.Ub(83,"app-auto-complete",35),p.ec("clearSelected",function(){return t.logmrnContent.schema=""})("onBlueSelectedItem",function(e){return t.logmrnContent.schema=e,t.onGetTablesByDbAndSchema()}),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(84,"div",36),p.Ub(85,"div"),p.Ic(86,"Table"),p.Tb(),p.Ub(87,"div"),p.Ub(88,"div",37),p.Ub(89,"input",38),p.ec("change",function(e){return t.onCheckAllTables(e)}),p.Tb(),p.Ub(90,"label",39),p.Ic(91,"Check All"),p.Tb(),p.Tb(),p.Gc(92,W,2,1,"div",40),p.Tb(),p.Tb(),p.Ub(93,"div",3),p.Ub(94,"button",41),p.ec("click",function(){return t.searchLogMnrContents()}),p.Ic(95,"Search"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Gc(96,ee,29,5,"div",42),p.Gc(97,ne,12,1,"ng-template",null,43,p.Hc)}2&e&&(p.Bb(7),p.nc("items",t.sourceDBs)("width",250)("chooseItem",t.selectedSourceDB),p.Bb(3),p.nc("ngIf",t.currentScnInfo),p.Bb(14),p.nc("ngModel",t.timeHHMMSS)("seconds",!0)("spinners",!1),p.Bb(3),p.nc("ngIf",t.scnToTime_Time),p.Bb(11),p.nc("ngModel",t.scnToTime),p.Bb(3),p.nc("ngIf",t.timeToSCN_SCN),p.Bb(8),p.nc("ngModel",t.logmrnContent.startScn),p.Bb(4),p.nc("ngModel",t.logmrnContent.endScn),p.Bb(26),p.nc("items",t.sourceDBsForLogMnrContents)("width",150)("chooseItem",t.logmrnContent.db),p.Bb(4),p.nc("items",t.sourceSchemas)("width",150)("chooseItem",t.logmrnContent.schema),p.Bb(9),p.nc("ngIf",t.allTables.length>0),p.Bb(4),p.nc("ngIf",t.logContentsResult))},directives:[_.a,i.m,o.t,o.l,o.m,a.d,a.i,o.k,o.n,o.b,i.l,o.a,G.a],pipes:[i.e],styles:[".scn[_ngcontent-%COMP%], .search-source-db[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0 20px}.scn[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:80px}.operation-type[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:0 20px}.operation-type[_ngcontent-%COMP%]   .checkboxs[_ngcontent-%COMP%]{display:flex;flex-direction:column}.operation-type[_ngcontent-%COMP%]   .checkboxs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:10px}.table-result[_ngcontent-%COMP%]{display:flex;gap:0 20px}.ml-4[_ngcontent-%COMP%]{margin-left:10px}.selected-tables[_ngcontent-%COMP%]{max-height:100px;overflow:auto;padding:1em;border:1px solid #ced4da}.group-tables[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0 5px}.redolog[_ngcontent-%COMP%]{margin-bottom:20px}.redolog[_ngcontent-%COMP%], .undolog[_ngcontent-%COMP%]{word-break:break-all}.check-all[_ngcontent-%COMP%]{display:flex;gap:0 5px;align-items:center}.searchtable-eare[_ngcontent-%COMP%]{display:flex;gap:0 5px;align-items:flex-start}.redo[_ngcontent-%COMP%], .undo[_ngcontent-%COMP%]{cursor:pointer;word-break:break-all;margin-top:8px}.info-text-body[_ngcontent-%COMP%]{margin-top:11px;display:flex;flex-direction:column}.selected-row[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.075)}.search-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:49px;margin-right:11px}"]}),e})();var oe=n("lJxs");let ae=(()=>{class e extends U.a{constructor(e,t){super(t),this.storage=e}getPublications(e){return this.httpClient.get(`/publication/getPublications?db=${e}`)}getPublicationTableByPublication(e,t,n,i,o){return this.httpClient.get(`/publication/getPublicationTableByPublication?db=${e}&publicationName=${t}&tableSearch=${n}&pageNo=${i}&pageSize=${o}`)}alterPublication(e,t,n,i){return this.httpClient.get(`/publication/alterPublication?db=${e}&publicationName=${t}&tables=${n}&action=${i}`)}}return e.\u0275fac=function(t){return new(t||e)(p.bc(u.a),p.bc(D.b))},e.\u0275prov=p.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),se=(()=>{class e{constructor(e,t){this.publicationService=e,this.activeModal=t,this.popupDbName=[],this.popupPublications=[],this.popupSelectedDB="",this.dataFilled={db:"",pubname:"",tables:""}}ngOnInit(){}handleSelectDBPopup(e){this.popupSelectedDB=e,0!==this.popupSelectedDB.length&&(this.popupPublications=[],this.publicationService.getPublications(this.popupSelectedDB).subscribe(e=>{e&&200===e.status?this.popupPublications=e.body:g.a.notifyMessage(e.message,"error")}))}save(){this.error=null,console.log(this.dataFilled),this.isEmpty(this.dataFilled.db)||this.isEmpty(this.dataFilled.pubname)||this.isEmpty(this.dataFilled.tables)?this.error="All fields are required":this.dataFilled.tables.match(/^[a-zA-Z0-9#)\(,._-s]+$/i)?this.activeModal.close(this.dataFilled):this.error="Split table by comma (,). Pattern: <Schema>.<Table>"}isEmpty(e){return!e||0===e.trim().length}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(ae),p.Ob(a.a))},e.\u0275cmp=p.Ib({type:e,selectors:[["app-publication-popup-adding"]],decls:28,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-4"],[1,"mb-3"],[1,"control-label"],[3,"items","selectedItem","clearSelected"],[3,"items","chooseItem","selectedItem","clearSelected"],["for","tables",1,"control-label"],["placeholder","Table","name","tables","id","tables",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-muted","ps-1"],[1,"text-danger"],[1,"modal-footer","justify-content-center"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(e,t){1&e&&(p.Ub(0,"div",0),p.Ub(1,"h4",1),p.Ic(2,"Create table publication"),p.Tb(),p.Ub(3,"button",2),p.ec("click",function(){return t.activeModal.dismiss("cancel")}),p.Ub(4,"span",3),p.Ic(5,"\xd7"),p.Tb(),p.Tb(),p.Tb(),p.Ub(6,"div",4),p.Ub(7,"div",5),p.Ub(8,"label",6),p.Ic(9,"Database"),p.Tb(),p.Ub(10,"app-auto-complete",7),p.ec("selectedItem",function(e){return t.dataFilled.db=e})("clearSelected",function(){return t.dataFilled.db=""})("selectedItem",function(e){return t.handleSelectDBPopup(e)}),p.Tb(),p.Tb(),p.Ub(11,"div",5),p.Ub(12,"label",6),p.Ic(13,"Publication name"),p.Tb(),p.Ub(14,"app-auto-complete",8),p.ec("selectedItem",function(e){return t.dataFilled.pubname=e})("clearSelected",function(){return t.dataFilled.pubname=""}),p.Tb(),p.Tb(),p.Ub(15,"div",5),p.Ub(16,"label",9),p.Ic(17,"Table(s)"),p.Tb(),p.Ub(18,"input",10),p.ec("ngModelChange",function(e){return t.dataFilled.tables=e}),p.Tb(),p.Ub(19,"small",11),p.Ic(20,"Split table by comma (,). Pattern: <Schema>.<Table>"),p.Tb(),p.Tb(),p.Ub(21,"div",12),p.Ic(22),p.Tb(),p.Tb(),p.Ub(23,"div",13),p.Ub(24,"button",14),p.ec("click",function(){return t.save()}),p.Ic(25,"Save"),p.Tb(),p.Ub(26,"button",14),p.ec("click",function(){return t.activeModal.dismiss("cancel")}),p.Ic(27,"Cancel"),p.Tb(),p.Tb()),2&e&&(p.Bb(10),p.nc("items",t.popupDbName),p.Bb(4),p.nc("items",t.popupPublications)("chooseItem",t.dataFilled.pubname),p.Bb(4),p.nc("ngModel",t.dataFilled.tables),p.Bb(4),p.Kc(" ",t.error," "))},directives:[_.a,o.b,o.k,o.n],styles:[""]}),e})();var ce=n("Px0i"),re=n("rDax"),le=n("+rOU"),be=n("FKr1"),he=n("cH1L"),de=n("NXyV"),ue=n("LRne"),ge=n("pLZG"),pe=n("IzEk"),me=n("JX91"),fe=n("R0Ic"),Se=n("FtGj"),ve=n("u47x");function Te(e,t){}class ye{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Ce={dialogContainer:Object(fe.l)("dialogContainer",[Object(fe.i)("void, exit",Object(fe.j)({opacity:0,transform:"scale(0.7)"})),Object(fe.i)("enter",Object(fe.j)({transform:"none"})),Object(fe.k)("* => enter",Object(fe.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(fe.j)({transform:"none",opacity:1}))),Object(fe.k)("* => void, * => exit",Object(fe.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(fe.j)({opacity:0})))])};let Ie=(()=>{class e extends le.a{constructor(e,t,n,i,o,a){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=o,this._focusMonitor=a,this._animationStateChanged=new p.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._getActiveElement(),n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=this._getActiveElement();return e===t||e.contains(t)}_getActiveElement(){var e;const t=this._document.activeElement;return(null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.activeElement)||t}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(p.l),p.Ob(ve.d),p.Ob(p.h),p.Ob(i.d,8),p.Ob(ye),p.Ob(ve.c))},e.\u0275dir=p.Jb({type:e,viewQuery:function(e,t){if(1&e&&p.Mc(le.b,3),2&e){let e;p.vc(e=p.fc())&&(t._portalOutlet=e.first)}},features:[p.yb]}),e})(),Ue=(()=>{class e extends Ie{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return De(t||e)},e.\u0275cmp=p.Ib({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&p.Ec("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(p.Xb("id",t._id),p.Cb("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),p.Fc("@dialogContainer",t._state))},features:[p.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&p.Gc(0,Te,0,0,"ng-template",0)},directives:[le.b],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ce.dialogContainer]}}),e})();const De=p.Wb(Ue);let Oe=0;class Pe{constructor(e,t,n="mat-dialog-"+Oe++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new b.a,this._afterClosed=new b.a,this._beforeClosed=new b.a,this._state=0,t._id=n,t._animationStateChanged.pipe(Object(ge.a)(e=>"opened"===e.state),Object(pe.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(ge.a)(e=>"closed"===e.state),Object(pe.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Object(ge.a)(e=>e.keyCode===Se.h&&!this.disableClose&&!Object(Se.r)(e))).subscribe(e=>{e.preventDefault(),_e(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():_e(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Object(ge.a)(e=>"closing"===e.state),Object(pe.a)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function _e(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const we=new p.r("MatDialogData"),Me=new p.r("mat-dialog-default-options"),xe=new p.r("mat-dialog-scroll-strategy"),Be={provide:xe,deps:[re.c],useFactory:function(e){return()=>e.scrollStrategies.block()}};let ke=(()=>{class e{constructor(e,t,n,i,o,a,s,c,r){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=o,this._dialogRefConstructor=s,this._dialogContainerType=c,this._dialogDataToken=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.a,this._afterOpenedAtThisLevel=new b.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(de.a)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Object(me.a)(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new ye)).id&&this.getDialogById(t.id);const n=this._createOverlay(t),i=this._attachDialogContainer(n,t),o=this._attachDialogContent(e,i,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),i._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new re.d({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=p.s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:ye,useValue:t}]}),i=new le.c(this._dialogContainerType,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}_attachDialogContent(e,t,n,i){const o=new this._dialogRefConstructor(n,t,i.id);if(e instanceof p.M)t.attachTemplatePortal(new le.f(e,null,{$implicit:i.data,dialogRef:o}));else{const n=this._createInjector(i,o,t),a=t.attachComponentPortal(new le.c(e,i.viewContainerRef,n));o.componentInstance=a.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||i&&i.get(he.b,null)||o.push({provide:he.b,useValue:{value:e.direction,change:Object(ue.a)()}}),p.s.create({parent:i||this._injector,providers:o})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(re.c),p.Ob(p.s),p.Ob(void 0),p.Ob(void 0),p.Ob(re.e),p.Ob(void 0),p.Ob(p.O),p.Ob(p.O),p.Ob(p.r))},e.\u0275dir=p.Jb({type:e}),e})(),$e=(()=>{class e extends ke{constructor(e,t,n,i,o,a,s){super(e,t,i,a,s,o,Pe,Ue,we)}}return e.\u0275fac=function(t){return new(t||e)(p.bc(re.c),p.bc(p.s),p.bc(i.i,8),p.bc(Me,8),p.bc(xe),p.bc(e,12),p.bc(re.e))},e.\u0275prov=p.Kb({token:e,factory:e.\u0275fac}),e})(),Fe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({providers:[$e,Be],imports:[[re.f,le.e,be.e],be.e]}),e})();const Le=["SearchInput"];function Re(e,t){if(1&e){const e=p.Vb();p.Ub(0,"tr",19),p.ec("dblclick",function(){p.zc(e);const n=t.$implicit;return p.gc().dbclickToEdit(n.id)}),p.Ub(1,"td",3),p.Ub(2,"input",20),p.ec("click",function(n){p.zc(e);const i=t.$implicit;return p.gc().selectItem(n,i)}),p.Tb(),p.Tb(),p.Ub(3,"td",21),p.Ic(4),p.Tb(),p.Ub(5,"td",21),p.Ic(6),p.Tb(),p.Ub(7,"td",21),p.Ic(8),p.Tb(),p.Tb()}if(2&e){const e=t.$implicit;p.Bb(2),p.nc("checked",e.checked),p.Bb(2),p.Kc(" ",e.name," "),p.Bb(2),p.Kc(" ",e.schemaName," "),p.Bb(2),p.Kc(" ",e.table," ")}}function Ee(e,t){1&e&&(p.Ub(0,"div",22),p.Ic(1,"No data"),p.Tb())}let Ae=(()=>{class e{constructor(e,t,n,i,o){this.publicationService=e,this.dbConfig=t,this.dialog=n,this.authService=i,this.modalService=o,this.dbName=[],this.publications=[],this.selectedDB="",this.selectedPublication="",this.selected=[],this.pageSize=20,this.pageNo=1,this.total=0,this.tables=[],this.disableSelectPublication=!0,this.tableSearch=""}ngOnInit(){this.loadDBConfigs(),this.registerSearchingEvent()}loadDBConfigs(){this.dbConfig.getDBConfigs(1,1e3).subscribe(e=>{e&&(this.dbName=e.dataSourceDescriptions.map(e=>e.serverName))})}handleSelectDB(e){this.selectedDB=e,0!==this.selectedDB.length&&(this.disableSelectPublication=!0,this.publicationService.getPublications(this.selectedDB).subscribe(e=>{e&&200===e.status?(this.disableSelectPublication=!1,this.publications=e.body):g.a.notifyMessage(e.message,"error")}))}handleSelectPublication(e){this.selectedPublication=e,0!==this.selectedPublication.length&&this.selectedDB&&this.onSearch()}onSearch(){this.publicationService.getPublicationTableByPublication(this.selectedDB,this.selectedPublication,this.tableSearch,this.pageNo,this.pageSize).subscribe(e=>{e&&200===e.status?(this.tables=e.body.publicationInfoList,this.total=Math.ceil(e.body.total/this.pageSize)):g.a.notifyMessage(e.message,"error")})}registerSearchingEvent(){Object(w.a)(this.searchInput.nativeElement,"keyup").pipe(Object(oe.a)(e=>e.target.value),Object(M.a)(300),Object(x.a)()).subscribe(e=>{this.selectedDB&&this.selectedPublication&&this.onSearch()})}handleChangePage(e){this.pageNo=e,this.onSearch()}getCheckAllItem(){return this.selected.length>0}selectItemAllItems(e){this.tables.forEach(t=>t.checked=e.target.checked),this.selected=e.target.checked?this.tables.map(e=>this.buildTable(e.schemaName,e.table)):[]}selectItem(e,t){if(t.checked=e.target.checked,e.target.checked){const e=this.buildTable(t.schemaName,t.table);this.selected.push(e)}else this.selected=this.selected.filter(e=>e!==this.buildTable(t.schemaName,t.table))}buildTable(e,t){return e+"."+t}onDelete(){this.selectedDB?this.selectedPublication?0!==this.selected.length?this.authService.onShowModal$.next({isShow:!0,title:"Information",message:"Are you sure to Delete ?",confirm:()=>{this.authService.onLoading$.next(!0),this.publicationService.alterPublication(this.selectedDB,this.selectedPublication,this.selected.join(","),2).subscribe(e=>{e&&200===e.status?(g.a.notifyMessage("Alter publication success!"),this.onSearch()):g.a.notifyMessage(e.message,"error"),this.authService.onLoading$.next(!1)})},type:"info",cancel:!0}):g.a.notifyMessage("You have not select any record to delete","error"):g.a.notifyMessage("You have not select Publication","error"):g.a.notifyMessage("You have not select DB","error")}onAdding(e){0!==e.db.length&&0!==e.pubname.length&&0!==e.tables.length&&this.publicationService.alterPublication(e.db,e.pubname,e.tables,1).subscribe(t=>{t&&200===t.status?(g.a.notifyMessage("Alter publication success!"),this.selectedDB=e.db,this.selectedPublication=e.pubname,this.onSearch()):g.a.notifyMessage(t.message,"error")})}showPopupAdding(){const e=this.modalService.open(se,{size:"lg",scrollable:!0});e.componentInstance.popupDbName=this.dbName,e.componentInstance.popupPublications=this.publications,e.result.then(e=>{console.log("result",e),this.onAdding(e)},e=>{console.log("reason",e)})}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(ae),p.Ob(ce.a),p.Ob($e),p.Ob(I.a),p.Ob(a.e))},e.\u0275cmp=p.Ib({type:e,selectors:[["app-publication-manager"]],viewQuery:function(e,t){if(1&e&&p.Mc(Le,3),2&e){let e;p.vc(e=p.fc())&&(t.searchInput=e.first)}},decls:42,vars:10,consts:[[1,"card","card-body","border-top-0"],[1,"card","card-body"],[1,"d-flex","justify-content-between"],[1,"text-center"],[1,"d-flex","align-items-center"],[1,"me-2"],[3,"items","chooseItem","clearSelected","selectedItem"],["name","dp",1,"form-control",3,"ngModel","ngModelChange"],["SearchInput",""],[1,"d-flex","align-items-center","justify-content-sm-end","search-area"],["type","button",1,"btn","btn-outline-primary","mr-md",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"card","card-body","mt-3","card-main-content"],[1,"table","table-hover","table-bordered"],["scope","col",1,"text-center"],["type","checkbox","id","checkboxNoLabel",1,"",3,"checked","click"],["style","height: 51px;",3,"dblclick",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[3,"totalPage","currentPage","onChangePage"],[2,"height","51px",3,"dblclick"],["type","checkbox",1,"",3,"checked","click"],[1,"topic-name-col"],[1,"no-data"]],template:function(e,t){1&e&&(p.Ub(0,"diV",0),p.Ub(1,"div",1),p.Ub(2,"div",2),p.Ub(3,"div",3),p.Ub(4,"div",4),p.Ub(5,"label",5),p.Ic(6,"DB:"),p.Tb(),p.Ub(7,"app-auto-complete",6),p.ec("clearSelected",function(){return t.handleSelectDB("")})("selectedItem",function(e){return t.handleSelectDB(e)}),p.Tb(),p.Tb(),p.Tb(),p.Ub(8,"div",3),p.Ub(9,"div",4),p.Ub(10,"label",5),p.Ic(11,"Publication:"),p.Tb(),p.Ub(12,"app-auto-complete",6),p.ec("clearSelected",function(){return t.selectedPublication=""})("selectedItem",function(e){return t.handleSelectPublication(e)}),p.Tb(),p.Tb(),p.Tb(),p.Ub(13,"div",3),p.Ub(14,"div",4),p.Ub(15,"label",5),p.Ic(16,"Table:"),p.Tb(),p.Ub(17,"input",7,8),p.ec("ngModelChange",function(e){return t.tableSearch=e}),p.Tb(),p.Tb(),p.Tb(),p.Ub(19,"div",3),p.Ub(20,"div",9),p.Ub(21,"button",10),p.ec("click",function(){return t.showPopupAdding()}),p.Ic(22,"Add"),p.Tb(),p.Ub(23,"button",11),p.ec("click",function(){return t.onDelete()}),p.Ic(24,"Delete"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(25,"div",12),p.Ub(26,"div"),p.Ub(27,"table",13),p.Ub(28,"thead"),p.Ub(29,"tr"),p.Ub(30,"th",14),p.Ub(31,"input",15),p.ec("click",function(e){return t.selectItemAllItems(e)}),p.Tb(),p.Tb(),p.Ub(32,"th",14),p.Ic(33,"Publication name"),p.Tb(),p.Ub(34,"th",14),p.Ic(35,"Schema name"),p.Tb(),p.Ub(36,"th",14),p.Ic(37,"Table name"),p.Tb(),p.Tb(),p.Tb(),p.Ub(38,"tbody"),p.Gc(39,Re,9,4,"tr",16),p.Tb(),p.Tb(),p.Gc(40,Ee,2,0,"div",17),p.Ub(41,"app-pavigation",18),p.ec("onChangePage",function(e){return t.handleChangePage(e)}),p.Tb(),p.Tb(),p.Tb()),2&e&&(p.Bb(7),p.nc("items",t.dbName)("chooseItem",t.selectedDB),p.Bb(5),p.nc("items",t.publications)("chooseItem",t.selectedPublication),p.Bb(5),p.nc("ngModel",t.tableSearch),p.Bb(14),p.nc("checked",t.getCheckAllItem()),p.Bb(8),p.nc("ngForOf",t.tables),p.Bb(1),p.nc("ngIf",0===t.total),p.Bb(1),p.nc("totalPage",t.total)("currentPage",t.pageNo))},directives:[_.a,o.b,o.k,o.n,i.l,i.m,G.a],styles:[".mr-md[_ngcontent-%COMP%]{margin-right:10px}mat-form-field[_ngcontent-%COMP%]{width:100%!important}.card-main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 300px)}"]}),e})();const Ne=["appColumnIdAutoComplete"],je=["dialogDelete"];function ze(e,t){if(1&e&&(p.Ub(0,"div",35),p.Ic(1),p.Tb()),2&e){const e=p.gc();p.Bb(1),p.Kc(" ",e.notiMsgRunning," ")}}function Ve(e,t){1&e&&(p.Ub(0,"span",46),p.Ic(1,"Different"),p.Tb())}function Ge(e,t){if(1&e){const e=p.Vb();p.Ub(0,"div",47),p.Ic(1),p.Ub(2,"button",48),p.ec("click",function(){return p.zc(e),p.gc(2).correctionMsg=null}),p.Ub(3,"span",49),p.Ic(4,"\xd7"),p.Tb(),p.Tb(),p.Tb()}if(2&e){const e=p.gc(2);p.Bb(1),p.Kc(" ",e.correctionMsg," ")}}function He(e,t){if(1&e&&(p.Ub(0,"th",58),p.Ic(1),p.Tb()),2&e){const e=t.$implicit;p.Bb(1),p.Jc(e)}}function qe(e,t){if(1&e&&(p.Ub(0,"span",66),p.Ic(1),p.Tb()),2&e){const e=p.gc().$implicit;p.Bb(1),p.Jc(e.operation)}}function Ke(e,t){if(1&e&&(p.Ub(0,"span",67),p.Ic(1),p.Tb()),2&e){const e=p.gc().$implicit;p.Bb(1),p.Jc(e.operation)}}function Je(e,t){if(1&e&&(p.Ub(0,"span",68),p.Ic(1),p.Tb()),2&e){const e=p.gc().$implicit;p.Bb(1),p.Jc(e.operation)}}function Qe(e,t){if(1&e){const e=p.Vb();p.Ub(0,"td",60),p.ec("click",function(){p.zc(e);const t=p.gc().$implicit,n=p.gc(3),i=p.wc(80);return n.onShowDetailError(t,i)}),p.Ic(1),p.Tb()}if(2&e){const e=t.$implicit,n=p.gc().$implicit,i=p.gc(3);p.Gb("error-row",i.checkStatusRow(n)),p.Bb(1),p.Jc(e)}}function We(e,t){if(1&e){const e=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td",59),p.Ub(2,"input",54),p.ec("change",function(){const e=t.$implicit;return e.selected=!e.selected}),p.Tb(),p.Tb(),p.Ub(3,"td",60),p.ec("click",function(){p.zc(e);const n=t.$implicit;return p.gc(3).showDetailRecord(n)}),p.Pb(4,"i",61),p.Tb(),p.Ub(5,"td"),p.Gc(6,qe,2,1,"span",62),p.Gc(7,Ke,2,1,"span",63),p.Gc(8,Je,2,1,"span",64),p.Tb(),p.Gc(9,Qe,2,3,"td",65),p.Tb()}if(2&e){const e=t.$implicit,n=p.gc(3);p.Bb(2),p.nc("checked",e.selected),p.Bb(4),p.nc("ngIf","DELETE"===e.operation),p.Bb(1),p.nc("ngIf","INSERT"===e.operation),p.Bb(1),p.nc("ngIf","UPDATE"===e.operation),p.Bb(1),p.nc("ngForOf",n.toArrayValueOfColumn(e))}}function Xe(e,t){if(1&e){const e=p.Vb();p.Ub(0,"div",50),p.Ub(1,"div",51),p.Ub(2,"table",52),p.Ub(3,"thead"),p.Ub(4,"th",53),p.Ub(5,"input",54),p.ec("change",function(){return p.zc(e),p.gc(2).handleCheckAll()}),p.Tb(),p.Tb(),p.Pb(6,"th"),p.Pb(7,"th"),p.Gc(8,He,2,1,"th",55),p.Tb(),p.Ub(9,"tbody"),p.Gc(10,We,10,5,"tr",56),p.Tb(),p.Tb(),p.Tb(),p.Ub(11,"app-pavigation",57),p.ec("onChangePage",function(t){return p.zc(e),p.gc(2).handleChangePage(t)})("onChangePageSize",function(t){return p.zc(e),p.gc(2).handleChangePageSize(t)}),p.Tb(),p.Tb()}if(2&e){const e=p.gc(2);p.Bb(5),p.nc("checked",e.checkAll),p.Bb(3),p.nc("ngForOf",e.headers),p.Bb(2),p.nc("ngForOf",e.operationResponsePaged),p.Bb(1),p.nc("totalPage",e.totalPage)("currentPage",e.currentPage)}}function Ye(e,t){1&e&&(p.Ub(0,"div",69),p.Ic(1," No Different Data "),p.Tb())}function Ze(e,t){if(1&e){const e=p.Vb();p.Ub(0,"div",36),p.Ub(1,"div",37),p.Ub(2,"div",38),p.Ub(3,"div",39),p.Ub(4,"div",40),p.Gc(5,Ve,2,0,"span",41),p.Ub(6,"span"),p.Ic(7),p.Tb(),p.Ub(8,"span"),p.Ic(9),p.Tb(),p.Ub(10,"span"),p.Ic(11),p.Tb(),p.Ub(12,"span"),p.Ic(13),p.Tb(),p.Tb(),p.Ub(14,"div"),p.Ub(15,"button",42),p.ec("click",function(){return p.zc(e),p.gc().onCorrection(!0)}),p.Ic(16,"Correction"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Gc(17,Ge,5,1,"div",43),p.Gc(18,Xe,12,5,"div",44),p.Gc(19,Ye,2,0,"div",45),p.Tb(),p.Tb()}if(2&e){const e=p.gc();p.Bb(5),p.nc("ngIf",!e.isSame),p.Bb(2),p.Kc("Total: ",e.totalOperation,""),p.Bb(2),p.Kc("Insert: ",e.operationI,""),p.Bb(2),p.Kc("Update: ",e.operationU,""),p.Bb(2),p.Kc("Delete: ",e.operationD,""),p.Bb(2),p.nc("disabled",e.isCorrecting),p.Bb(2),p.nc("ngIf",e.correctionMsg),p.Bb(1),p.nc("ngIf",e.operationResponsePaged&&e.operationResponsePaged.length>0),p.Bb(1),p.nc("ngIf",e.showNoDiff&&!e.isSearching)}}function et(e,t){if(1&e){const e=p.Vb();p.Ub(0,"div",70),p.Ub(1,"h4",71),p.Ic(2,"Correction error"),p.Tb(),p.Ub(3,"button",72),p.ec("click",function(){return p.zc(e),p.gc().onCloseModal()}),p.Ub(4,"span",49),p.Ic(5,"\xd7"),p.Tb(),p.Tb(),p.Tb(),p.Ub(6,"div",73),p.Ub(7,"div",74),p.Ic(8),p.Tb(),p.Tb(),p.Ub(9,"div",75),p.Ub(10,"button",29),p.ec("click",function(){return p.zc(e),p.gc().onCloseModal()}),p.Ic(11," Cancel "),p.Tb(),p.Tb()}if(2&e){const e=p.gc();p.Bb(8),p.Kc(" ",e.operationError.errorMessage," ")}}function tt(e,t){if(1&e){const e=p.Vb();p.Ub(0,"div",70),p.Ub(1,"h4",71),p.Ic(2,"Confirmation"),p.Tb(),p.Ub(3,"button",72),p.ec("click",function(){return p.zc(e),p.gc().onCloseModal()}),p.Ub(4,"span",49),p.Ic(5,"\xd7"),p.Tb(),p.Tb(),p.Tb(),p.Ub(6,"div",73),p.Ub(7,"div",74),p.Ic(8),p.hc(9,"date"),p.Tb(),p.Tb(),p.Ub(10,"div",75),p.Ub(11,"button",29),p.ec("click",function(){return p.zc(e),p.gc().reSearch()}),p.Ic(12," Search again "),p.Tb(),p.Ub(13,"button",29),p.ec("click",function(){p.zc(e);const t=p.gc();return t.loadSearchData(),t.onCloseModal()}),p.Ic(14," View data "),p.Tb(),p.Ub(15,"button",29),p.ec("click",function(){return p.zc(e),p.gc().onCloseModal()}),p.Ic(16," Cancel "),p.Tb(),p.Tb()}if(2&e){const e=p.gc();p.Bb(8),p.Kc(" The data were compared at ",p.jc(9,1,e.operationSummary.operationDate,"yyyy.MM.dd / HH:mm"),". Would you like to see it or compare again? ")}}const nt=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.authService=e,this.operationService=t,this.modalService=n,this.storage=i,this.dbConnectorService=o,this.mapState=new Map,this.totalPage=0,this.currentPage=1,this.pageSize=20,this.active="1",this.isSearching=!1,this.isCorrecting=!1,this.invalidOracleIdValue=!1,this.tableNames=["XCION_SBC_TBL_UNITED","PT_VO_BUY","PT_VO_WATCH_HISTORY"],this.sourceOracleDBs=[],this.oracleSchemas=[],this.postgresDBs=[],this.postgresSchemas=[],this.divisions=[],this.invalidOracleDB=!1,this.invalidOracleSchema=!1,this.invalidPostgresDB=!1,this.invalidPostgresSchema=!1,this.invalidTable=!1,this.checkAll=!1,this.correctionMsg="",this.username="",this.showNoDiff=!1,this.notiMsgRunning="System is finding different between 2 databases",this.primaryKeys="",this.uniqueKeys="",this.headers=[],this.isSame=!0,this.operationI=0,this.operationU=0,this.operationD=0,this.totalOperation=0,this.summarySubject=new b.a,this.operationDto={sourceDatabase:"",sourceSchema:"",sourceSql:"",targetDatabase:"",targetSchema:"",targetSql:"",table:"",columnIdValue:"",whereStm:"",whereStmFillData:"",columnIdName:"SA_ID",errorMessage:""}}ngOnInit(){this.username=this.authService.getUserLogged(),this.loadViewInfoForSearching()}ngOnDestroy(){this.summarySubject.next()}onCloseModal(){this.modalService.dismissAll()}buildQueryOracle(){if(!this.validateInputs())return;let e="SELECT * FROM ";e+=this.operationDto.sourceSchema+"."+this.operationDto.table+" WHERE 1=1 ",""!==this.operationDto.columnIdValue&&(e+="AND "+this.operationDto.columnIdName+" ='"+this.operationDto.columnIdValue+"'"),e+=" "+this.operationDto.whereStmFillData,this.operationDto.whereStm=e.substring(e.indexOf("WHERE")),this.operationDto.sourceSql=e.trim()}buildQueryPostgres(){if(!this.validateInputs())return;this.operationDto.whereStm=this.operationDto.whereStmFillData;let e="SELECT * FROM ";e+=this.operationDto.targetSchema+"."+this.operationDto.table.toLowerCase()+" WHERE 1=1 ",""!==this.operationDto.columnIdValue&&(e+="AND "+this.operationDto.columnIdName.toLocaleLowerCase()+" ='"+this.operationDto.columnIdValue+"'"),e+=" "+this.operationDto.whereStmFillData,this.operationDto.whereStm=e.substring(e.indexOf("WHERE")),this.operationDto.targetSql=e.trim()}selectTable(e){this.operationDto.table=e,this.operationDto.columnIdName="XCION_SBC_TBL_UNITED"===this.operationDto.table?"PVS_SBC_CONT_NO":"SA_ID",this.buildQueryOracle(),this.buildQueryPostgres()}toArrayValueOfColumn(e){const t=[],n=e.source?e.source:e.target;return this.headers.forEach("DELETE"===e.operation?e=>{t.push(n[e.toLowerCase()])}:e=>{t.push(n[e])}),t}onClearOracleDB(){this.operationDto.sourceDatabase=""}onClearOracleSchema(){this.operationDto.sourceSchema=""}onClearPostgresDB(){this.operationDto.targetDatabase=""}onClearPostgresSchema(){this.operationDto.targetSchema=""}cancelSearching(){this.authService.onShowModal$.next({isShow:!0,title:"Information",message:"Are you sure to Cancel Searching ?",type:"info",cancel:!0,confirm:()=>{this.operationService.cancelSearching(this.operationDto.table,this.username,this.operationDto.whereStm.trim()).subscribe(e=>{this.isSearching=!1,this.summarySubject.next()})}})}handleCheckAll(){this.checkAll=!this.checkAll,this.operationResponsePaged.forEach(e=>e.selected=this.checkAll)}onSearch(){this.validateInputs()&&(""===this.operationDto.columnIdValue&&""===this.operationDto.whereStm?this.authService.onShowModal$.next({isShow:!0,title:"Information",message:"There is no condition in the query, it takes a long time to compare all record of tables. Are you sure?",type:"info",cancel:!0,confirm:()=>{this.handleSearching()}}):this.handleSearching())}handleSearching(){this.operationService.checkOperation(this.operationDto.table,this.username,this.operationDto.whereStm.trim()).subscribe(e=>{e.body?(this.operationSummary=e.body,e.body.state?(this.totalPage=0,this.currentPage=1,this.totalOperation=0,this.loadSearchData()):e.body.isOutDate?(this.totalPage=0,this.currentPage=1,this.totalOperation=0,this.reSearch()):this.modalService.open(this.dialogDelete)):this.search()})}search(){this.isSame=!0,this.operationI=0,this.operationU=0,this.operationD=0,this.totalOperation=0,this.operationResponsePaged=[],this.currentPage=1,this.authService.onLoading$.next(!0),this.correctionMsg="",this.isSearching=!0,this.operationDto.sessionId=this.username,this.operationService.search(this.operationDto).subscribe(e=>{this.authService.onLoading$.next(!1),e&&200===e.status?(this.loadSearchData(),g.a.notifyMessageAlwaysShow(e.message)):(this.correctionMsg=e.message,this.isSearching=!1)},e=>{this.authService.onLoading$.next(!1),g.a.notifyMessageAlwaysShow(e,"error"),this.isSearching=!1,this.correctionMsg=e},()=>{this.authService.onLoading$.next(!1)})}loadSearchData(){this.correctionMsg=null,this.isSearching=!0,this.showNoDiff=!1,this.operationResponsePaged=[],this.totalPage=0,this.totalOperation=0,Object(h.a)(2e3,5e3).pipe(Object(d.a)(this.summarySubject)).subscribe(e=>{this.operationService.getOperationSummary(this.operationDto.table,this.username,this.operationDto.whereStm).subscribe(e=>{e&&200===e.status?e.body&&(e.body.state||(this.fetchData(),this.summarySubject.next(),this.isSearching=!1),this.operationD=e.body.delete?e.body.delete:0,this.operationI=e.body.insert?e.body.insert:0,this.operationU=e.body.update?e.body.update:0,this.totalOperation<this.pageSize&&this.totalOperation<this.operationD+this.operationI+this.operationU&&this.fetchData(),this.totalOperation=this.operationD+this.operationI+this.operationU,this.totalPage=Math.ceil(this.totalOperation/this.pageSize)):(this.correctionMsg=e.message,this.isSearching=!1)})})}fetchData(){this.operationService.loadSearchingData(this.operationDto.sourceDatabase,this.operationDto.sourceSchema,this.operationDto.targetDatabase,this.operationDto.targetSchema,this.operationDto.table,this.username,this.operationDto.whereStm.trim(),this.currentPage,this.pageSize,this.primaryKeys,this.uniqueKeys).subscribe(e=>{if(e&&200===e.status){if(this.operationResponsePaged=e.body.entities,this.primaryKeys=e.body.primaryKeys,this.uniqueKeys=e.body.uniqueKeys,0===this.operationResponsePaged.length)this.showNoDiff=!0;else if(e.body.entities.length>0){try{const t=e.body.entities[0];t.source?this.headers=Object.keys(t.source):(this.headers=Object.keys(t.target),this.headers=this.headers.map(e=>e.toUpperCase()))}catch(t){console.error(t)}this.isSame=!1,this.showNoDiff=!1}}else this.correctionMsg=e.message,this.isSearching=!1,this.showNoDiff=!1})}reSearch(){const e={table:this.operationDto.table,session:this.username,where:this.operationDto.whereStm.trim()};this.operationService.deleteProcess(e).subscribe(e=>{}),this.onCloseModal(),this.operationService.deleteOperationTable(e).subscribe(e=>{200===e.status&&this.search()})}onCorrection(e=!1){const t=this.operationResponsePaged.filter(e=>e.selected);0===t.length?this.authService.onShowModal$.next({isShow:!0,title:"Information",message:"You should select one item!",type:"info",confirm:()=>{}}):t.filter(e=>"DELETE"===e.operation).length>0?this.authService.onShowModal$.next({isShow:!0,title:"Information",message:"Are you sure to delete different record?",type:"info",cancel:!0,confirm:()=>{this.correction(t)}}):this.correction(t)}correction(e){this.authService.onShowModal$.next({isShow:!0,title:"Information",message:"Correct data by using latest data in the source database(Oracle) to update the target database (Postgres)",type:"info",cancel:!0,confirm:()=>{this.handleCorrectionResponseBatch(e)}})}handleCorrectionResponseBatch(e){this.authService.onLoading$.next(!0),this.isCorrecting=!0,this.correctionMsg="",this.operationService.correctionBatch(e,this.operationDto.sourceDatabase,this.operationDto.sourceSchema,this.operationDto.targetDatabase,this.operationDto.targetSchema,this.operationDto.table,this.username,this.operationDto.whereStm.trim()).subscribe(e=>{this.authService.onLoading$.next(!1),this.isCorrecting=!1,this.operationService.getOperationSummary(this.operationDto.table,this.username,this.operationDto.whereStm).subscribe(e=>{e&&200===e.status&&e.body&&(this.operationD=e.body.delete?e.body.delete:0,this.operationI=e.body.insert?e.body.insert:0,this.operationU=e.body.update?e.body.update:0,this.totalOperation=this.operationD+this.operationI+this.operationU)}),this.handleChangePage(1),this.checkAll=!1,g.a.notifyMessageAlwaysShow("Correction done!")},e=>{this.correctionMsg=e,g.a.notifyMessageAlwaysShow(e,"error"),this.authService.onLoading$.next(!1),this.isCorrecting=!1},()=>{this.authService.onLoading$.next(!1),this.isCorrecting=!1})}showDetailRecord(e){const t=this.modalService.open(C,{size:"xl"});t.componentInstance.doc=e,t.componentInstance.headers=this.headers}checkStatusRow(e){return e.errorMessage&&""!==e.errorMessage}onShowDetailError(e,t){e.errorMessage&&(this.operationError=e,this.modalService.open(t))}validateInputs(){return this.invalidOracleDB=!1,this.invalidOracleSchema=!1,this.invalidPostgresDB=!1,this.invalidPostgresSchema=!1,this.invalidTable=!1,this.operationDto.sourceDatabase=this.operationDto.sourceDatabase?this.operationDto.sourceDatabase.trim():"",this.operationDto.sourceSchema=this.operationDto.sourceSchema?this.operationDto.sourceSchema.trim():"",this.operationDto.targetDatabase=this.operationDto.targetDatabase?this.operationDto.targetDatabase.trim():"",this.operationDto.targetSchema=this.operationDto.targetSchema?this.operationDto.targetSchema.trim():"",this.operationDto.table=this.operationDto.table?this.operationDto.table.trim():"",""===this.operationDto.sourceDatabase&&(this.invalidOracleDB=!0),""===this.operationDto.sourceSchema&&(this.invalidOracleSchema=!0),""===this.operationDto.targetDatabase&&(this.invalidPostgresDB=!0),""===this.operationDto.targetSchema&&(this.invalidPostgresSchema=!0),""===this.operationDto.table&&(this.invalidTable=!0),!(this.invalidOracleDB||this.invalidOracleSchema||this.invalidPostgresDB||this.invalidPostgresSchema||this.invalidTable)}loadSearchingData(){this.authService.onLoading$.next(!0),this.operationService.loadSearchingData(this.operationDto.sourceDatabase,this.operationDto.sourceSchema,this.operationDto.targetDatabase,this.operationDto.targetSchema,this.operationDto.table,this.username,this.operationDto.whereStm.trim(),this.currentPage,this.pageSize,this.primaryKeys,this.uniqueKeys).subscribe(e=>{if(this.authService.onLoading$.next(!1),e&&200===e.status&&(this.operationResponsePaged=e.body.entities,this.primaryKeys=e.body.primaryKeys,this.uniqueKeys=e.body.uniqueKeys,e.body.entities&&e.body.entities.length>0)){const t=e.body.entities[0];t.source?this.headers=Object.keys(t.source):(this.headers=Object.keys(t.target),this.headers=this.headers.map(e=>e.toUpperCase()))}})}handleChangePageSize(e){this.pageSize=e,this.loadSearchingData()}handleChangePage(e){this.currentPage=e,this.loadSearchingData()}loadViewInfoForSearching(){this.authService.onLoading$.next(!0),this.operationService.getViewInfoForSearching().subscribe(e=>{if(e){const t=new Set,n=new Set,i=new Set,o=new Set;e.forEach(e=>{t.add(null==e.syncRdId?e.sourceDatabase:e.rdSourceDatabase),n.add(null==e.syncRdId?e.sourceSchema:e.rdSourceSchema),i.add(null==e.syncRdId?e.targetSchema:e.rdTargetSchema),o.add(null==e.syncRdId?e.targetDatabase:e.rdTargetDatabase)}),t.forEach(e=>{e===e.toUpperCase()&&this.sourceOracleDBs.push(e)}),n.forEach(e=>{e===e.toUpperCase()&&this.oracleSchemas.push(e)}),i.forEach(e=>this.postgresSchemas.push(e)),o.forEach(e=>this.postgresDBs.push(e)),this.authService.onLoading$.next(!1)}})}onCloseSetting(){this.modalService.dismissAll()}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(I.a),p.Ob(O),p.Ob(a.e),p.Ob(u.a),p.Ob(P.a))},e.\u0275cmp=p.Ib({type:e,selectors:[["app-operation"]],viewQuery:function(e,t){if(1&e&&(p.Mc(Ne,3),p.Mc(je,3)),2&e){let e;p.vc(e=p.fc())&&(t.appColumnIdAutoComplete=e.first),p.vc(e=p.fc())&&(t.dialogDelete=e.first)}},decls:83,vars:52,consts:[["aria-label","breadcrumb",1,"border-bottom","shadow-sm","bg-white","p-3"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"m-3"],["id","myTab","role","tablist",1,"nav","nav-tabs","bg-white","p-3","pb-0"],["role","presentation",1,"nav-item","cursor-pointer"],["id","home-tab","data-toggle","tab","role","tab","aria-controls","home","aria-selected","true",3,"click"],["id","profile-tab","data-toggle","tab","role","tab","aria-controls","profile","aria-selected","false",3,"click"],["id","myTabContent",1,"tab-content","border-top-0"],["id","home","role","tabpanel","aria-labelledby","home-tab"],[1,"card","card-body","border-top-0"],[1,"card","card-body","pb-3"],[1,"row","d-flex","justify-content-center"],[1,"col-sm-8"],[1,"row","g-3","mb-3"],[1,"col-6"],[1,"form-label"],[3,"disabled","invalidInput","items","chooseItem","clearSelected","selectedItem"],[1,"col"],[3,"disabled","operationInfo","oracleValueIdNotFound","outSelectedItem"],["appColumnIdAutoComplete",""],[1,"col-12"],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange","blur","keyup"],["type","text","rows","2","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"search"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-spin","mr-2"],["type","button",1,"btn","btn-outline-primary",3,"click"],["class","alert alert-info m-3","role","alert",4,"ngIf"],["class","card card-body mt-3",4,"ngIf"],["id","profile","role","tabpanel","aria-labelledby","profile-tab"],["viewDetaiError",""],["dialogDelete",""],["role","alert",1,"alert","alert-info","m-3"],[1,"card","card-body","mt-3"],[1,"display-result"],[1,"status-result","mb-1"],[1,"operation-action"],[1,"op-info"],["class","bg-warning text-white p-1",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","mr-3",3,"disabled","click"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","show-table mt-1",4,"ngIf"],["class","mb-4 alert alert-secondary",4,"ngIf"],[1,"bg-warning","text-white","p-1"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"show-table","mt-1"],[1,"showtable-scroll","mb-4"],[1,"table","table-hover","table-bordered","mt-3"],[1,"text-center"],["type","checkbox",3,"checked","change"],["class","text-center","scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"totalPage","currentPage","onChangePage","onChangePageSize"],["scope","col",1,"text-center"],[1,"text-center",2,"width","50px"],[3,"click"],[1,"bi","bi-arrows-angle-expand"],["class","status bg-danger text-white",4,"ngIf"],["class","status bg-success text-white",4,"ngIf"],["class","status bg-warning text-white",4,"ngIf"],[3,"error-row","click",4,"ngFor","ngForOf"],[1,"status","bg-danger","text-white"],[1,"status","bg-success","text-white"],[1,"status","bg-warning","text-white"],[1,"mb-4","alert","alert-secondary"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"info-text-body"],[1,"modal-footer"]],template:function(e,t){1&e&&(p.Ub(0,"nav",0),p.Ub(1,"ol",1),p.Ub(2,"li",2),p.Ub(3,"a",3),p.Ic(4,"Home"),p.Tb(),p.Tb(),p.Ub(5,"li",4),p.Ic(6,"Operation"),p.Tb(),p.Tb(),p.Tb(),p.Ub(7,"div",5),p.Ub(8,"ul",6),p.Ub(9,"li",7),p.Ub(10,"a",8),p.ec("click",function(){return t.active="1"}),p.Ic(11,"Operation"),p.Tb(),p.Tb(),p.Ub(12,"li",7),p.Ub(13,"a",9),p.ec("click",function(){return t.active="2"}),p.Ic(14,"Redo Log"),p.Tb(),p.Tb(),p.Ub(15,"li",7),p.Ub(16,"a",9),p.ec("click",function(){return t.active="3"}),p.Ic(17,"Publication"),p.Tb(),p.Tb(),p.Tb(),p.Ub(18,"div",10),p.Ub(19,"div",11),p.Ub(20,"div"),p.Ub(21,"div",12),p.Ub(22,"div",13),p.Ub(23,"div",14),p.Ub(24,"div",15),p.Ub(25,"div",16),p.Ub(26,"div",17),p.Ub(27,"label",18),p.Ic(28,"Oracle DB Name"),p.Tb(),p.Ub(29,"app-auto-complete",19),p.ec("clearSelected",function(){return t.onClearOracleDB()})("selectedItem",function(e){return t.operationDto.sourceDatabase=e,t.buildQueryOracle(),t.buildQueryPostgres()}),p.Tb(),p.Tb(),p.Ub(30,"div",17),p.Ub(31,"label",18),p.Ic(32,"Oracle Schema"),p.Tb(),p.Ub(33,"app-auto-complete",19),p.ec("clearSelected",function(){return t.onClearOracleSchema()})("selectedItem",function(e){return t.operationDto.sourceSchema=e,t.buildQueryOracle(),t.buildQueryPostgres()}),p.Tb(),p.Tb(),p.Tb(),p.Ub(34,"div",16),p.Ub(35,"div",20),p.Ub(36,"label",18),p.Ic(37,"Postgres DB Name"),p.Tb(),p.Ub(38,"app-auto-complete",19),p.ec("clearSelected",function(){return t.onClearPostgresDB()})("selectedItem",function(e){return t.operationDto.targetDatabase=e,t.buildQueryOracle(),t.buildQueryPostgres()}),p.Tb(),p.Tb(),p.Ub(39,"div",20),p.Ub(40,"label",18),p.Ic(41,"Postgres Schema"),p.Tb(),p.Ub(42,"app-auto-complete",19),p.ec("clearSelected",function(){return t.onClearPostgresSchema()})("selectedItem",function(e){return t.operationDto.targetSchema=e,t.buildQueryOracle(),t.buildQueryPostgres()}),p.Tb(),p.Tb(),p.Tb(),p.Ub(43,"div",16),p.Ub(44,"div",20),p.Ub(45,"label",18),p.Ic(46,"Table"),p.Tb(),p.Ub(47,"app-auto-complete",19),p.ec("clearSelected",function(){return t.operationDto.table=""})("selectedItem",function(e){return t.selectTable(e)}),p.Tb(),p.Tb(),p.Ub(48,"div",20),p.Ub(49,"label",18),p.Ic(50),p.Tb(),p.Ub(51,"app-column-id-auto-complete",21,22),p.ec("oracleValueIdNotFound",function(e){return t.invalidOracleIdValue=e})("outSelectedItem",function(){return t.buildQueryOracle(),t.buildQueryPostgres()}),p.Tb(),p.Tb(),p.Tb(),p.Ub(53,"div",16),p.Ub(54,"div",23),p.Ub(55,"label",18),p.Ic(56,"Where"),p.Tb(),p.Ub(57,"input",24),p.ec("ngModelChange",function(e){return t.operationDto.whereStmFillData=e})("blur",function(){return t.buildQueryOracle(),t.buildQueryPostgres()})("keyup",function(){return t.buildQueryOracle(),t.buildQueryPostgres()}),p.Tb(),p.Tb(),p.Ub(58,"div",23),p.Ub(59,"label",18),p.Ic(60,"Oracle SQL"),p.Tb(),p.Ub(61,"div"),p.Ub(62,"textarea",25),p.ec("ngModelChange",function(e){return t.operationDto.sourceSql=e}),p.Tb(),p.Tb(),p.Tb(),p.Ub(63,"div",23),p.Ub(64,"label",18),p.Ic(65,"Postgres SQL"),p.Tb(),p.Ub(66,"textarea",25),p.ec("ngModelChange",function(e){return t.operationDto.targetSql=e}),p.Tb(),p.Tb(),p.Tb(),p.Ub(67,"div",26),p.Ub(68,"button",27),p.ec("click",function(){return t.onSearch()}),p.Pb(69,"span",28),p.Ic(70," Search "),p.Tb(),p.Ub(71,"button",29),p.ec("click",function(){return t.cancelSearching()}),p.Ic(72," Cancel "),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Gc(73,ze,2,1,"div",30),p.Gc(74,Ze,20,9,"div",31),p.Tb(),p.Tb(),p.Ub(75,"div",32),p.Pb(76,"app-redo-log"),p.Tb(),p.Ub(77,"div",32),p.Pb(78,"app-publication-manager"),p.Tb(),p.Tb(),p.Tb(),p.Gc(79,et,12,1,"ng-template",null,33,p.Hc),p.Gc(81,tt,17,4,"ng-template",null,34,p.Hc)),2&e&&(p.Bb(10),p.Eb("nav-link ","1"===t.active?"active":"",""),p.Bb(3),p.Eb("nav-link ","2"===t.active?"active":"",""),p.Bb(3),p.Eb("nav-link ","3"===t.active?"active":"",""),p.Bb(3),p.Eb("tab-pane fade show ","1"===t.active?"active":"",""),p.Bb(10),p.nc("disabled",t.isSearching)("invalidInput",t.invalidOracleDB)("items",t.sourceOracleDBs)("chooseItem",t.operationDto.sourceDatabase),p.Bb(4),p.nc("disabled",t.isSearching)("invalidInput",t.invalidOracleSchema)("items",t.oracleSchemas)("chooseItem",t.operationDto.sourceSchema),p.Bb(5),p.nc("disabled",t.isSearching)("invalidInput",t.invalidPostgresDB)("items",t.postgresDBs)("chooseItem",t.operationDto.targetDatabase),p.Bb(4),p.nc("disabled",t.isSearching)("invalidInput",t.invalidPostgresSchema)("items",t.postgresSchemas)("chooseItem",t.operationDto.targetSchema),p.Bb(5),p.nc("disabled",t.isSearching)("invalidInput",t.invalidTable)("items",t.tableNames)("chooseItem",t.operationDto.table),p.Bb(3),p.Jc("XCION_SBC_TBL_UNITED"===t.operationDto.table?"PVS_SBC_CONT_NO":"SA_ID"),p.Bb(1),p.nc("disabled",t.isSearching)("operationInfo",t.operationDto),p.Bb(6),p.nc("disabled",t.isSearching)("ngModel",t.operationDto.whereStmFillData),p.Bb(5),p.nc("ngModel",t.operationDto.sourceSql),p.Bb(4),p.nc("ngModel",t.operationDto.targetSql),p.Bb(2),p.nc("disabled",t.isSearching),p.Bb(1),p.Gb("fa-spinner",t.isSearching),p.Bb(2),p.Dc("visibility",t.isSearching?"visible":"hidden"),p.Bb(2),p.nc("ngIf",t.isSearching),p.Bb(1),p.nc("ngIf",t.operationResponsePaged&&t.operationResponsePaged.length>0),p.Bb(1),p.Eb("tab-pane fade show ","2"===t.active?"active":"",""),p.Bb(2),p.Eb("tab-pane fade show ","3"===t.active?"active":"",""))},directives:[_.a,E,o.b,o.k,o.n,i.m,ie,Ae,i.l,G.a],pipes:[i.e],styles:[".card-main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 155px)}.content[_ngcontent-%COMP%]{background-color:#fff;min-width:1421px}.content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.content[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.content[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 1px 3px 0 rgba(0,0,0,.02),0 0 0 1px rgba(27,31,35,.15);padding:1em;column-gap:20px}.content[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .oracle-postgres-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:0 20px}.content[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .oracle-postgres-container[_ngcontent-%COMP%]   .oracle-postgres-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:0 80px;flex:1}.content[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .oracle-postgres-container[_ngcontent-%COMP%]   .oracle-postgres-inputs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px;min-width:150px;display:inline-block}.content[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .oracle-postgres-container[_ngcontent-%COMP%]   .oracle-postgres-inputs[_ngcontent-%COMP%]   .column-id[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.content[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .oracle-postgres-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{min-width:180px}.content[_ngcontent-%COMP%]   .search-area[_ngcontent-%COMP%]{display:flex;align-items:center}.content[_ngcontent-%COMP%]   .search-area[_ngcontent-%COMP%]   .text-search[_ngcontent-%COMP%]{margin-right:20px}.content[_ngcontent-%COMP%]   .search-area[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.content[_ngcontent-%COMP%]   .search-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.content[_ngcontent-%COMP%]   .search-area[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:400px}.query-builder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.query-builder[_ngcontent-%COMP%]   .query-area[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:0 5px}.query-builder[_ngcontent-%COMP%]   .query-area[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:150px}.query-builder[_ngcontent-%COMP%]   .query-area[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1}.display-result[_ngcontent-%COMP%]   .operation-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.display-result[_ngcontent-%COMP%]   .operation-action[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:medium}.display-result[_ngcontent-%COMP%]   .operation-action[_ngcontent-%COMP%]   .op-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:0 50px}.display-result[_ngcontent-%COMP%]   .mr-5[_ngcontent-%COMP%]{margin-right:5px}.flex-1[_ngcontent-%COMP%]{flex:1}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:30px;border-right:1px solid var(--cui-table-border-color);padding:.9em}.showtable-scroll[_ngcontent-%COMP%]{overflow:auto;max-height:calc(100vh - 200px);min-height:100px}.error-row[_ngcontent-%COMP%]{color:red}.bi[_ngcontent-%COMP%], .error-row[_ngcontent-%COMP%]{cursor:pointer}.search[_ngcontent-%COMP%]{display:flex;gap:0 20px;align-items:center;justify-content:center}"]}),e})()}];let it=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({imports:[[l.g.forChild(nt)],l.g]}),e})();var ot=n("d3UM"),at=n("kmnG"),st=n("qFsG");let ct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({providers:[i.e,{provide:a.c,useClass:r.a}],imports:[[i.c,it,i.c,s.a,c.a,o.f,a.f,ot.a,Fe,at.d,st.a]]}),e})()},gOjB:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("HWzE"),o=n("3FKL"),a=n("fXoL"),s=n("tk/3");let c=(()=>{class e extends i.a{constructor(e,t){super(t),this.storage=e}getSchedules(){return this.httpClient.get("/comparison/schedules")}getDivisions(){return this.httpClient.get("/dbsync/synchronizers/division")}getTimeOnServer(){return this.httpClient.get("/comparison/getTimeOnServer")}getViewInfoForSearching(){return this.httpClient.get("/comparison/viewInfoForSearching")}getResultByDate(e){return this.httpClient.get(`/comparison/getResultByDate?date=${e}`)}viewKafkaConsumerGroup(e,t,n){return this.httpClient.get(`/comparison/viewKafkaConsumerGroup?topN=${n}&reverse=${t}&filter=${e}`)}runningCount(){return this.httpClient.get("/comparison/runningCount")}startSchedule(){return this.httpClient.get("/comparison/startSchedule")}stopSchedule(){return this.httpClient.get("/comparison/stopSchedule")}getSummaryByDateAndTime(e,t){return this.httpClient.get(`/comparison/getSummaryByDateAndTime?date=${e}&time=${t}`)}deleteSummaryByDateAndTime(e,t){return this.httpClient.post(`/comparison/deleteSummaryByDateAndTime?date=${e}&time=${t}`,{})}saveSchedules(e){return this.httpClient.put("/comparison/schedules/update",e)}exportAllByDate(e){return this.httpClient.post(`/comparison/exportAllByDate?date=${e}`,{})}quickRunQuery(e){return this.httpClient.post("/comparison/quickRunQuery",e)}exportByDateAndTime(e,t){return this.httpClient.post(`/comparison/exportByDateAndTime?date=${e}&time=${t}`,{})}compareAll(){return this.httpClient.get("/comparison/compareAll")}compareSelectedItems(e){return this.httpClient.post("/comparison/compareSelected",e)}filter(e,t,n,i,o,a,s,c,r,l,b,h,d,u){return this.httpClient.get(`/comparison/filter?dateFrom=${e}&time=${t}&sourceDB=${n}&sourceSchema=${i}&targetDB=${o}&targetSchema=${a}&sourceTable=${s}&targetTable=${c}&state=${r}&pageNo=${l}&pageSize=${b}&sortField=${h}&sortType=${d}&division=${u}`)}viewDailyGraph(e,t,n,i,o,a,s,c){return this.httpClient.get(`/dbsync/analysis/viewDailyGraph?dbName=${e}&schmName=${t}&division=${n}&topic=${i}&year=${o}&month=${a}&date=${s}&chartType=${c}`)}viewHourlyGraph(e,t,n,i,o,a,s,c){return this.httpClient.get(`/dbsync/analysis/viewHourlyGraph?dbName=${e}&schmName=${t}&division=${n}&topic=${i}&year=${o}&month=${a}&date=${s}&chartType=${c}`)}viewMinutelyGraph(e,t,n,i,o,a,s,c,r,l,b){return this.httpClient.get(`/dbsync/analysis/viewMinutelyGraph?dbName=${e}&schmName=${t}&division=${n}&topic=${i}&year=${o}&month=${a}&date=${s}&fromHour=${c}&toHour=${r}&type=${l}&chartType=${b}`)}viewTopicsHourly(e,t,n,i){return this.httpClient.get(`/dbsync/analysis/viewTopicHourly?topicNames=${e}&year=${t}&month=${n}&date=${i}`)}}return e.\u0275fac=function(t){return new(t||e)(a.bc(o.a),a.bc(s.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);